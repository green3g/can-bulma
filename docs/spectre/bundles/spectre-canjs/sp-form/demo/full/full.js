define("spectre-canjs@3.4.2#sp-form/demo/full/full.stache!steal-stache@4.1.2#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.2.0#can-view-import","can-stache-bindings@4.3.3#can-stache-bindings"],function(e,n,t){var r=n("sp-form/demo/full/full.stache",[{tokenType:"start",args:["h1",!1,1]},{tokenType:"end",args:["h1",!1,1]},{tokenType:"chars",args:["Form Widget Demo",1]},{tokenType:"close",args:["h1",1]},{tokenType:"chars",args:["\n",1]},{tokenType:"start",args:["div",!1,2]},{tokenType:"attrStart",args:["class",2]},{tokenType:"attrValue",args:["columns",2]},{tokenType:"attrEnd",args:["class",2]},{tokenType:"end",args:["div",!1,2]},{tokenType:"chars",args:["\n    ",2]},{tokenType:"start",args:["div",!1,3]},{tokenType:"attrStart",args:["class",3]},{tokenType:"attrValue",args:["col-6 col-sm-12 container",3]},{tokenType:"attrEnd",args:["class",3]},{tokenType:"end",args:["div",!1,3]},{tokenType:"chars",args:["\n        ",3]},{tokenType:"start",args:["sp-form",!1,4]},{tokenType:"attrStart",args:["object:bind",4]},{tokenType:"attrValue",args:["object",4]},{tokenType:"attrEnd",args:["object:bind",4]},{tokenType:"attrStart",args:["dirty:u:object:to",4]},{tokenType:"attrValue",args:["dirtyObject",4]},{tokenType:"attrEnd",args:["dirty:u:object:to",4]},{tokenType:"attrStart",args:["actions:from",4]},{tokenType:"attrValue",args:["actions",4]},{tokenType:"attrEnd",args:["actions:from",4]},{tokenType:"attrStart",args:["on:submit",4]},{tokenType:"attrValue",args:["onSubmit(scope.arguments)",4]},{tokenType:"attrEnd",args:["on:submit",4]},{tokenType:"attrStart",args:["is:u:saving:bind",4]},{tokenType:"attrValue",args:["formSaving",4]},{tokenType:"attrEnd",args:["is:u:saving:bind",4]},{tokenType:"attrStart",args:["on:cancel",4]},{tokenType:"attrValue",args:["onCancel",4]},{tokenType:"attrEnd",args:["on:cancel",4]},{tokenType:"end",args:["sp-form",!1,10]},{tokenType:"close",args:["sp-form",10]},{tokenType:"chars",args:["\n    ",10]},{tokenType:"close",args:["div",11]},{tokenType:"chars",args:["\n    ",11]},{tokenType:"start",args:["div",!1,12]},{tokenType:"attrStart",args:["class",12]},{tokenType:"attrValue",args:["col-6 col-sm12 container",12]},{tokenType:"attrEnd",args:["class",12]},{tokenType:"end",args:["div",!1,12]},{tokenType:"chars",args:["\n        \n        ",12]},{tokenType:"start",args:["p",!1,14]},{tokenType:"end",args:["p",!1,14]},{tokenType:"chars",args:["Model object values: ",14]},{tokenType:"close",args:["p",14]},{tokenType:"chars",args:["\n        ",14]},{tokenType:"start",args:["div",!1,15]},{tokenType:"attrStart",args:["class",15]},{tokenType:"attrValue",args:["json",15]},{tokenType:"attrEnd",args:["class",15]},{tokenType:"end",args:["div",!1,15]},{tokenType:"special",args:["{stringify (object)",15]},{tokenType:"close",args:["div",15]},{tokenType:"chars",args:["\n        ",15]},{tokenType:"start",args:["div",!0,16]},{tokenType:"attrStart",args:["class",16]},{tokenType:"attrValue",args:["divider",16]},{tokenType:"attrEnd",args:["class",16]},{tokenType:"end",args:["div",!0,16]},{tokenType:"chars",args:["\n\n        ",16]},{tokenType:"start",args:["p",!1,18]},{tokenType:"end",args:["p",!1,18]},{tokenType:"chars",args:["Dirty field values",18]},{tokenType:"close",args:["p",18]},{tokenType:"chars",args:["\n        ",18]},{tokenType:"start",args:["div",!1,19]},{tokenType:"attrStart",args:["class",19]},{tokenType:"attrValue",args:["json",19]},{tokenType:"attrEnd",args:["class",19]},{tokenType:"end",args:["div",!1,19]},{tokenType:"special",args:["{stringify (dirtyObject)",19]},{tokenType:"close",args:["div",19]},{tokenType:"chars",args:["\n    ",19]},{tokenType:"close",args:["div",20]},{tokenType:"chars",args:["\n",20]},{tokenType:"close",args:["div",21]},{tokenType:"done",args:[21]}]);return function(n,t,a){var i=Object.assign({},t);return i.helpers?i.helpers=Object.assign({module:e},i.helpers):i.module=e,r(n,i,a)}}),define("can-key@1.2.0#delete/delete",["require","exports","module","can-reflect","../utils"],function(e,n,t){"use strict";var r=e("can-reflect"),a=e("../utils");t.exports=function(e,n){for(var t=a.parts(n),i=e,s=0;s<t.length-1;s++)i&&(i=r.getKeyValue(i,t[s]));i&&r.deleteKeyValue(i,t[t.length-1])}}),define("can-key@1.2.0#sub/sub",["require","exports","module","../utils","../get/get","can-reflect","../delete/delete"],function(e,n,t){"use strict";var r=e("../utils"),a=e("../get/get"),i=e("can-reflect"),s=e("../delete/delete");t.exports=function(e,n,t){var u=[];return e=e||"",u.push(e.replace(r.strReplacer,function(e,r){var o=a(n,r);return!0===t&&s(n,r),void 0===o||null===o?(u=null,""):!i.isPrimitive(o)&&u?(u.push(o),""):""+o})),null===u?u:u.length<=1?u[0]:u}}),define("can-query-logic@1.1.0#src/set",["require","exports","module","can-symbol","can-reflect"],function(e,n,t){function r(e){return function(n,t){return e.call(this,t,n)}}function a(e,n,t){var r=e[f];e[f]||(r=e[f]=new Map);var a=r.get(e);a||(a=new Map,r.set(e,a));var i=a.get(n);if(i)for(var s in t)i.hasOwnProperty(s)&&console.warn("Overwriting "+e.name+" "+s+" "+n.name+" comparitor"),i[s]=t[s];else a.set(n,t)}function i(){}var s,u=e("can-symbol"),o=e("can-reflect"),c=function(e){return o.assignSymbols(e,{"can.serialize":function(){return this}})},f=u.for("can.setComparisons"),l={number:i,string:i,undefined:i,boolean:i},d={};["intersection","difference","union"].forEach(function(e){d[e]=function(n,t,r){if(r===s.UNIVERSAL){if("intersection"===e)return t;if("union"===e)return s.UNIVERSAL;if("difference"===e)return s.EMPTY}if(t===s.UNIVERSAL){if("intersection"===e)return t;if("union"===e)return s.UNIVERSAL}if(n&&n[e]){var a=n[e](t,r);return void 0===a&&!0===n.undefinedIsEmptySet?s.EMPTY:a}throw new Error("Unable to perform "+e+" between "+s.getType(t).name+" and "+s.getType(r).name)}});var h={intersection:function(e,n){return e===n?e:s.EMPTY},difference:function(e,n){return e===n?s.EMPTY:e},union:function(e,n){return e===n?e:s.UNDEFINABLE}};(s={UNIVERSAL:o.assignSymbols({name:"UNIVERSAL"},{"can.serialize":function(){return this},"can.isMember":function(){return!0}}),EMPTY:o.assignSymbols({name:"EMPTY"},{"can.serialize":function(){return this},"can.isMember":function(){return!1}}),UNDEFINABLE:c({name:"UNDEFINABLE"}),UNKNOWABLE:c({name:"UNKNOWABLE"}),Identity:i,isSpecial:function(e){return e===s.UNIVERSAL||e===s.EMPTY||e===s.UNDEFINABLE||e===s.UNKNOWABLE},isDefinedAndHasMembers:function(e){return e!==s.EMPTY&&e!==s.UNDEFINABLE&&e!==s.UNKNOWABLE&&e},getType:function(e){return e===s.UNIVERSAL?s.UNIVERSAL:e===s.EMPTY?s.EMPTY:e===s.UNKNOWABLE?s.UNKNOWABLE:null===e?i:l.hasOwnProperty(typeof e)?l[typeof e]:e.constructor},ownAndMemberValue:function(e,n){if(null!=e||null!=n){var t=null!=e?e.valueOf():e,r=null!=n?n.valueOf():n;return null==e||null==n?{own:t,member:r}:(t.constructor!==r.constructor&&(r=new e.constructor(r).valueOf()),{own:t,member:r})}return{own:n,member:e}},getComparisons:function(e,n){var t=e[f];if(t){var r=t.get(e);if(r)return r.get(n)}},hasComparisons:function(e){return!!e[f]},defineComparison:function(e,n,t){if(a(e,n,t),e!==n){var i={};for(var s in t)"difference"!==s&&(i[s]=r(t[s]));a(n,e,i)}},isSubset:function(e,n){if(e===n)return!0;var t=s.getType(e),r=s.getType(n),a=s.getComparisons(t,r);if(a){var i=d.intersection(a,e,n),u=d.difference(a,e,n);return i===s.UNKNOWABLE||u===s.UNKNOWABLE?void 0:i!==s.EMPTY&&u===s.EMPTY}throw new Error("Unable to perform subset comparison between "+t.name+" and "+r.name)},isProperSubset:function(e,n){return s.isSubset(e,n)&&!s.isEqual(e,n)},isEqual:function(e,n){if(e===s.UNKNOWABLE||n===s.UNKNOWABLE)return s.UNKNOWABLE;var t=s.isSpecial(e),r=s.isSpecial(n);if(t&&r)return t===r;var a=s.getType(e),i=s.getType(n);if(e===n)return!0;var u=s.getComparisons(a,i),c=s.getComparisons(i,a);if(u&&c){var f=d.intersection(u,e,n),l=d.difference(u,e,n);if(f!==s.EMPTY&&l===s.EMPTY){var h=d.intersection(c,n,e),p=d.difference(c,n,e);return h!==s.EMPTY&&p===s.EMPTY}return!1}var y=s.ownAndMemberValue(e,n);if(o.isPrimitive(y.own)&&o.isPrimitive(y.member))return y.own===y.member;throw new Error("Unable to perform equal comparison between "+a.name+" and "+i.name)},union:function(e,n){if(e===s.UNIVERSAL||n===s.UNIVERSAL)return s.UNIVERSAL;if(e===s.EMPTY)return n;if(n===s.EMPTY)return e;if(e===s.UNKNOWABLE||n===s.UNKNOWABLE)return s.UNKNOWABLE;var t=s.getType(e),r=s.getType(n),a=s.getComparisons(t,r);return d.union(a,e,n)},intersection:function(e,n){if(e===s.UNIVERSAL)return n;if(n===s.UNIVERSAL)return e;if(e===s.EMPTY||n===s.EMPTY)return s.EMPTY;if(e===s.UNKNOWABLE||n===s.UNKNOWABLE)return s.UNKNOWABLE;var t=s.getType(e),r=s.getType(n),a=s.getComparisons(t,r);if(a)return d.intersection(a,e,n);throw new Error("Unable to perform intersection comparison between "+t.name+" and "+r.name)},difference:function(e,n){if(e===s.EMPTY)return s.EMPTY;if(n===s.EMPTY)return e;if(e===s.UNKNOWABLE||n===s.UNKNOWABLE)return s.UNKNOWABLE;var t=s.getType(e),r=s.getType(n),a=s.getComparisons(t,r);if(a)return d.difference(a,e,n);throw new Error("Unable to perform difference comparison between "+t.name+" and "+r.name)},indexWithEqual:function(e,n){for(var t=0,r=e.length;t<r;t++)if(s.isEqual(e[t],n))return t;return-1}}).defineComparison(i,i,h),s.defineComparison(s.UNIVERSAL,s.UNIVERSAL,h),t.exports=s}),define("can-fixture@3.0.0#data-from-url",function(e,n,t){var r=/\{([^\}]+)\}/g;t.exports=function(e,n){if(!e)return{};var t=[],a=e.replace(".","\\.").replace("?","\\?"),i=new RegExp(a.replace(r,function(e,n){return t.push(n),"([^/]+)"})+"$").exec(n),s={};return i?(i.shift(),t.forEach(function(e){s[e]=i.shift()}),s):null}}),define("can-query-logic@1.1.0#src/array-union-intersection-difference",["require","exports","module","./set"],function(e,n,t){function r(e){return null==e?e:e.valueOf()}var a=e("./set");t.exports=function(e,n){var t=new Set,i=[],s=[],u=e.slice(0);return e.forEach(function(e){t.add(r(e)),s.push(e)}),n.forEach(function(e){if(t.has(r(e))){i.push(e);var n=a.indexWithEqual(u,e);-1!==n&&u.splice(n,1)}else s.push(e)}),{intersection:i,union:s,difference:u}}}),define("can-query-logic@1.1.0#src/types/comparisons",["require","exports","module","../set","../array-union-intersection-difference","can-symbol"],function(e,n,t){function r(e){return function(n,t){return null!=n&&null!=t&&e(n,t)}}function a(e){return function(n,t){return n===t||null!=n&&null!=t&&e(n,t)}}function i(e){var n=N.ownAndMemberValue(this.value,e);return this.constructor.test(n.member,n.own)}function s(e){return this.constructor.test(this.values,e)}function u(e){return{test:function(n,t){return!e.test(n,t)}}}function o(e,n,t){return function(r,a){var i=S(r.values,a.values);return i[e].length?new n(i[e]):t||N.EMPTY}}function c(e){return function(n,t){return e(t,n)}}function f(e,n){return function(t,r){return new e(r[n||"value"])}}function l(e,n){return e.value<n.value?n:e}function d(e,n){return e.value>n.value?n:e}function h(e,n){return function(t,r){return e.test(t.value,r.value)?I([t,new n(r.value)]):N.EMPTY}}function p(e,n){var t=h(e,n);return function(e,n){return e.value===n.value?new O.In([e.value]):t(e,n)}}function y(e,n,t){return function(r,a){var i=r.values.filter(function(n){return e.test(a,n)});return i.length?new n(i):t||N.EMPTY}}function v(e){return e instanceof O.Or}function g(e){return e instanceof O.And}function m(e){return g(e)||v(e)}function E(e){return function(n,t){var r,a=n.values.filter(function(n){return e.values.test(t,n)});return r=e.complement?N.difference(N.UNIVERSAL,t):e.with?new e.with(t.value):t,a.length?e.combinedUsing([new e.arePut(a),r]):r}}function T(e,n){return function(t,r){return e.test(t.value,r.value)?n||N.UNIVERSAL:L([t,r])}}function b(e,n){return function(t,r){return e.test(t.value,r.value)?n||N.EMPTY:I([t,r])}}function q(e){return function(n,t){return e.test(n.value,t.value)?N.difference(N.UNIVERSAL,t):n}}function I(e){return k.And?new k.And(e):N.UNDEFINABLE}function L(e){return k.Or?new k.Or(e):N.UNDEFINABLE}function A(e,n,t){var r=new t(n.value),a=e.values.filter(function(e){return!r.isMember(e)});return a.length?L(a.length<e.values.length?[new O.In(a),r]:[e,n]):r}function w(e,n){if(n instanceof O.Or){var t=w(e,n.values[0]);if(!(t instanceof O.Or))return N.union(t,n.values[1]);var r=w(e,n.values[1]);return r instanceof O.Or?L([e,n]):N.union(r,n.values[0])}return n instanceof O.GreaterThan?A(e,n,O.GreaterThanEqual):n instanceof O.LessThan?A(e,n,O.LessThanEqual):L([e,n])}var N=e("../set"),S=e("../array-union-intersection-difference"),M=e("can-symbol").for("can.isMember"),k={In:function(e){this.values=e},NotIn:function(e){this.values=e},GreaterThan:function(e){this.value=e},GreaterThanEqual:function(e){this.value=e},LessThan:function(e){this.value=e},LessThanEqual:function(e){this.value=e},And:function(e){this.values=e},Or:function(e){this.values=e}};k.Or.prototype.orValues=function(){return this.values},k.In.test=function(e,n){return e.some(function(e){var t=N.ownAndMemberValue(e,n);return t.own===t.member})},k.NotIn.test=function(e,n){return!k.In.test(e,n)},k.NotIn.testValue=function(e,n){return!k.In.testValue(e,n)},k.GreaterThan.test=r(function(e,n){return e>n}),k.GreaterThanEqual.test=a(function(e,n){return e>=n}),k.LessThan.test=r(function(e,n){return e<n}),k.LessThanEqual.test=a(function(e,n){return e<=n}),[k.GreaterThan,k.GreaterThanEqual,k.LessThan,k.LessThanEqual,k.LessThan].forEach(function(e){e.prototype.isMember=i}),[k.In,k.NotIn].forEach(function(e){e.prototype.isMember=s}),k.And.prototype.isMember=function(e){return this.values.every(function(n){return n.isMember(e)})},k.Or.prototype.isMember=function(e){return this.values.some(function(n){return n.isMember(e)})},Object.keys(k).forEach(function(e){k[e].prototype[M]=k[e].prototype.isMember});var x={test:function(e,n){return e.isMember(n)}},O=k,P={union:E({values:u(x),arePut:O.In,combinedUsing:function(e){return w(e[0],e[1])}}),intersection:y(x,O.In,N.EMPTY),difference:y(u(x),O.In,N.EMPTY)},_={difference:c(E({values:x,arePut:O.NotIn,combinedUsing:I}))},U=function(){return{union:y(u(x),O.NotIn,N.UNIVERSAL),intersection:E({values:x,arePut:O.NotIn,combinedUsing:I}),difference:E({values:u(x),arePut:O.NotIn,combinedUsing:I,complement:!0})}},R={difference:c(y(x,O.In,N.EMPTY))},V=function(e,n){var t=N.union(e,n.values[0]),r=N.union(e,n.values[1]);return m(t)||m(r)?new O.Or([e,n]):N.intersection(t,r)},j=function(e,n){var t=n.values[0],r=n.values[1],a=N.intersection(e,t),i=N.intersection(e,r);return a===N.EMPTY||i===N.EMPTY?N.EMPTY:m(a)?m(i)?new O.And([e,n]):new N.intersection(i,t):new N.intersection(a,r)},D=function(e,n){var t=n.values[0],r=n.values[1],a=N.difference(e,t),i=N.difference(e,r);return a===N.EMPTY?i:i===N.EMPTY?a:new O.Or([a,i])},G=function(e,n){var t=e.values[0],r=e.values[1],a=N.difference(t,n),i=N.difference(r,n);return N.intersection(a,i)},Y={union:function(e,n){var t=n.values[0],r=n.values[1],a=N.union(e,t);if(!m(a))return N.union(a,r);var i=N.union(e,r);return m(i)?new O.Or([e,n]):N.union(t,i)},intersection:function(e,n){var t=n.values[0],r=n.values[1],a=N.intersection(e,t),i=N.intersection(e,r);return a===N.EMPTY?i:i===N.EMPTY?a:N.union(a,i)},difference:function(e,n){var t=n.values[0],r=n.values[1],a=N.difference(e,t),i=N.difference(e,r);return N.intersection(a,i)}},C={difference:function(e,n){var t=e.values[0],r=e.values[1],a=N.difference(t,n),i=N.difference(r,n);return N.union(a,i)}},K={In_In:{union:o("union",O.In),intersection:o("intersection",O.In),difference:o("difference",O.In)},UNIVERSAL_In:{difference:f(O.NotIn,"values")},In_NotIn:{union:c(o("difference",O.NotIn,N.UNIVERSAL)),intersection:o("difference",O.In),difference:o("intersection",O.In)},NotIn_In:{difference:o("union",O.NotIn)},In_GreaterThan:P,GreaterThan_In:_,In_GreaterThanEqual:P,GreaterThanEqual_In:_,In_LessThan:P,LessThan_In:_,In_LessThanEqual:P,LessThanEqual_In:_,In_And:P,And_In:_,In_Or:P,Or_In:_,NotIn_NotIn:{union:o("intersection",O.NotIn,N.UNIVERSAL),intersection:o("union",O.NotIn),difference:o("difference",O.In)},UNIVERSAL_NotIn:{difference:f(O.In,"values")},NotIn_GreaterThan:U(),GreaterThan_NotIn:R,NotIn_GreaterThanEqual:U(),GreaterThanEqual_NotIn:R,NotIn_LessThan:U(),LessThan_NotIn:R,NotIn_LessThanEqual:U(),LessThanEqual_NotIn:R,NotIn_And:U(),And_NotIn:R,NotIn_Or:U(),Or_NotIn:R,GreaterThan_GreaterThan:{union:d,intersection:l,difference:h(O.LessThan,O.LessThanEqual)},UNIVERSAL_GreaterThan:{difference:f(O.LessThanEqual)},GreaterThan_GreaterThanEqual:{union:d,intersection:l,difference:h(O.LessThan,O.LessThan)},GreaterThanEqual_GreaterThan:{difference:p(O.LessThan,O.LessThanEqual)},GreaterThan_LessThan:{union:function(){var e=T(O.LessThan);return function(n,t){return k.In.test([n.value],t.value)?new O.NotIn([n.value]):e(n,t)}}(),intersection:b(O.GreaterThan),difference:q(O.LessThan)},LessThan_GreaterThan:{difference:q(O.GreaterThan)},GreaterThan_LessThanEqual:{union:T(O.LessThanEqual),intersection:b(O.GreaterThanEqual),difference:q(O.LessThanEqual)},LessThanEqual_GreaterThan:{difference:q(O.GreaterThanEqual)},GreaterThan_And:{union:V,intersection:j,difference:D},And_GreaterThan:{difference:G},GreaterThan_Or:Y,Or_GreaterThan:C,GreaterThanEqual_GreaterThanEqual:{union:d,intersection:l,difference:h(O.LessThan,O.LessThan)},UNIVERSAL_GreaterThanEqual:{difference:f(O.LessThan)},GreaterThanEqual_LessThan:{union:T(O.LessThanEqual),intersection:b(O.GreaterThanEqual),difference:q(O.LessThanEqual)},LessThan_GreaterThanEqual:{difference:q(O.GreaterThanEqual)},GreaterThanEqual_LessThanEqual:{union:T(O.LessThanEqual),intersection:function(){var e=b(O.GreaterThan);return function(n,t){var r=new O.In([n.value]);return r.isMember(t.value)?r:e(n,t)}}(),difference:q(O.LessThanEqual)},LessThanEqual_GreaterThanEqual:{difference:q(O.GreaterThanEqual)},GreaterThanEqual_And:{union:V,intersection:j,difference:D},And_GreaterThanEqual:{difference:G},GreaterThanEqual_Or:Y,Or_GreaterThanEqual:C,LessThan_LessThan:{union:l,intersection:d,difference:h(O.GreaterThan,O.GreaterThanEqual)},UNIVERSAL_LessThan:{difference:f(O.GreaterThanEqual)},LessThan_LessThanEqual:{union:l,intersection:d,difference:h(O.GreaterThan,O.GreaterThan)},LessThanEqual_LessThan:{difference:p(O.GreaterThanEqual,O.GreaterThanEqual)},LessThan_And:{union:V,intersection:j,difference:D},And_LessThan:{difference:G},LessThan_Or:Y,Or_LessThan:C,LessThanEqual_LessThanEqual:{union:l,intersection:d,difference:function(e,n){return e.value>=n.value?I([e,new O.GreaterThan(n.value)]):N.EMPTY}},UNIVERSAL_LessThanEqual:{difference:f(O.GreaterThan)},LessThanEqual_And:{union:V,intersection:j,difference:D},And_LessThanEqual:{difference:G},LessThanEqual_Or:Y,Or_LessThanEqual:C,And_And:{union:function(e,n){var t=N.union(e,n.values[0]),r=N.union(e,n.values[1]);return(m(t)||m(r))&&(t=N.union(n,e.values[0]),r=N.union(n,e.values[1])),m(t)||m(r)?new O.Or([e,n]):N.intersection(t,r)},intersection:function(e,n){var t=N.intersection(e.values[0],n.values[0]),r=N.intersection(e.values[1],n.values[1]);return m(t)&&m(r)?(t=N.intersection(e.values[0],n.values[1]),r=N.intersection(e.values[1],n.values[0]),m(t)&&m(r)?new O.And([e,n]):N.intersection(t,r)):N.intersection(t,r)},difference:function(e,n){var t=N.difference(e,n.values[0]),r=N.difference(e,n.values[1]);return N.union(t,r)}},And_Or:{union:function(e,n){var t=N.union(e.values[0],n),r=N.union(e.values[1],n);return m(t)&&m(r)?new O.Or([e,n]):N.intersection(t,r)},intersection:function(e,n){var t=N.intersection(e,n.values[0]),r=N.intersection(e,n.values[1]);return v(t)||v(r)?new O.And([e,n]):N.union(t,r)},difference:function(e,n){var t=N.difference(e,n.values[0]),r=N.difference(e,n.values[1]);return N.intersection(t,r)}},Or_And:{difference:function(e,n){var t=N.difference(e,n.values[0]),r=N.difference(e,n.values[1]);return N.union(t,r)}},UNIVERSAL_And:{difference:function(e,n){var t=N.difference(e,n.values[0]),r=N.difference(e,n.values[1]);return N.union(t,r)}},Or_Or:{union:function(e,n){var t=N.union(e.values[0],n.values[0]),r=N.union(e.values[1],n.values[1]);return m(t)&&m(r)?(t=N.union(e.values[0],n.values[1]),r=N.union(e.values[1],n.values[0]),m(t)&&m(r)?new O.Or([e,n]):N.union(t,r)):N.union(t,r)},intersection:function(e,n){var t=n.values[0],r=n.values[1],a=N.intersection(e,t),i=N.intersection(e,r);return v(a)&&v(i)?(a=N.union(n,e.values[0]),i=N.union(n,e.values[1]),v(a)&&v(i)?new O.Or([e,n]):N.union(a,i)):N.union(a,i)},difference:function(e,n){var t=N.difference(e,n.values[0]),r=N.difference(e,n.values[1]);return N.intersection(t,r)}},UNIVERSAL_Or:{difference:function(e,n){var t=N.difference(e,n.values[0]),r=N.difference(e,n.values[1]);return N.intersection(t,r)}}},z=Object.keys(k);z.forEach(function(e,n){K[e+"_"+e]?N.defineComparison(k[e],k[e],K[e+"_"+e]):console.warn("no "+e+"_"+e),K["UNIVERSAL_"+e]?N.defineComparison(N.UNIVERSAL,k[e],K["UNIVERSAL_"+e]):console.warn("no UNIVERSAL_"+e);for(var t=n+1;t<z.length;t++){var r=z[t];K[e+"_"+r]?N.defineComparison(k[e],k[r],K[e+"_"+r]):console.warn("no "+e+"_"+r),K[r+"_"+e]?N.defineComparison(k[r],k[e],K[r+"_"+e]):console.warn("no "+r+"_"+e)}}),t.exports=k}),define("can-query-logic@1.1.0#src/types/make-real-number-range-inclusive",["require","exports","module","../set","./comparisons"],function(e,n,t){var r=e("../set"),a=e("./comparisons");t.exports=function(e,n){function t(t,r){this.start=arguments.length>0?+t:e,this.end=arguments.length>1?+r:n,this.range=new a.And([new a.GreaterThanEqual(this.start),new a.LessThanEqual(this.end)])}function i(e){return r.isSubset(c.range,e.range)}function s(e){var n={};if(e.values.forEach(function(e){e instanceof a.GreaterThanEqual&&(n.start=e.value),e instanceof a.GreaterThan&&(n.start=e.value+1),e instanceof a.LessThanEqual&&(n.end=e.value),e instanceof a.LessThan&&(n.end=e.value-1)}),"start"in n&&"end"in n)return new t(n.start,n.end)}function u(e){var n;if(e instanceof a.And&&(n=s(e)),e instanceof a.Or){var u=s(e.values[0]),o=s(e.values[1]);if(!u||!o)return r.UNDEFINABLE;var c=u.range.values,f=o.range.values;if(c[1].value+1===f[0].value)n=new t(c[0].value,f[1].value);else{if(f[1].value+1!==c[0].value)return r.UNDEFINABLE;n=new t(f[0].value,c[1].value)}}return n&&i(n)?r.UNIVERSAL:n}function o(e,n){return u(r.difference(e.range,n.range))||r.EMPTY}var c=new t(e,n);return r.defineComparison(t,t,{union:function(e,n){return u(r.union(e.range,n.range))||r.EMPTY},intersection:function(e,n){return u(r.intersection(e.range,n.range))||r.EMPTY},difference:o}),r.defineComparison(r.UNIVERSAL,t,{difference:function(e,n){return i(n)?r.EMPTY:o(c,n)}}),t}}),define("can-query-logic@1.1.0#src/types/types",function(e,n,t){t.exports={}}),define("can-query-logic@1.1.0#src/types/values-or",["require","exports","module","../set","./types"],function(e,n,t){function r(e){this.values=e}var a=e("../set"),i=e("./types");r.prototype.isMember=function(e){return this.values.some(function(n){return n&&n.isMember?n.isMember(e):n===e})},a.defineComparison(a.UNIVERSAL,r,{difference:function(){return a.UNDEFINABLE}}),t.exports=i.ValuesOr=r}),define("can-query-logic@1.1.0#src/types/values-not",["require","exports","module","../set","./types"],function(e,n,t){function r(e){this.value=e}var a=e("../set"),i=e("./types"),s=a.Identity;a.defineComparison(a.UNIVERSAL,s,{difference:function(e,n){return new r(n)}}),a.defineComparison(a.UNIVERSAL,r,{difference:function(e,n){return n.value}}),a.defineComparison(r,r,{}),a.defineComparison(r,s,{union:function(e,n){if(a.isEqual(e.value,n))return a.UNIVERSAL;throw new Error("Not,Identity Union is not filled out")},intersection:function(e,n){return a.isEqual(!e.value,n)?n:a.EMPTY},difference:function(e,n){return a.isEqual(e.value,n)?e:a.UNDEFINABLE}}),a.defineComparison(s,r,{difference:function(e,n){return a.isEqual(e,n.value)?e:a.UNDEFINABLE}}),t.exports=i.Not=r}),define("can-query-logic@1.1.0#src/types/keys-and",["require","exports","module","../set","can-assign","../array-union-intersection-difference","can-reflect","can-key/get/get","can-symbol","can-reflect","./types"],function(e,n,t){function r(e){var n=this.values={};d.eachKey(e,function(e,t){d.isPlainObject(e)&&!c.isSpecial(e)?n[t]=new r(e):n[t]=e})}function a(e){return c.isEqual(e,c.UNIVERSAL)?c.UNIVERSAL:e}function i(e,n,t,r,a){var i,s=f({},t);for(var u in e){if(void 0!==(i=n(u,e[u],u in t?t[u]:g,e,t)))return i;delete s[u]}for(u in s)if(void 0!==(i=r(u,g,t[u],e,t)))return i;return a}function s(e,n){var t=l(Object.keys(e),Object.keys(n));return{aOnlyKeys:t.difference,aAndBKeys:t.intersection,bOnlyKeys:l(Object.keys(n),Object.keys(e)).difference}}function u(e){return e!==c.EMPTY}function o(e,n){var t=e.values,a=n.values,i=s(t,a),o=i.aOnlyKeys,l=i.aAndBKeys,d=i.bOnlyKeys,h={},p={},v={};l.forEach(function(e){var n=c.difference(t[e],a[e]);if(n===c.EMPTY)h[e]=t[e];else{var r=c.intersection(t[e],a[e]);r!==c.EMPTY?p[e]={difference:n,intersection:r}:v[e]=t[e]}});var g,m=Object.keys(p);if(1===m.length&&((g={})[m[0]]=p[m[0]].difference),Object.keys(v).length)return e;if(0===o.length&&0===d.length)return m.length>1?c.UNDEFINABLE:1===m.length?(f(h,g),new r(h)):c.EMPTY;if(o.length>0&&0===d.length)return m.length>1?c.UNDEFINABLE:1===m.length?(f(h,g),o.forEach(function(e){h[e]=t[e]}),new r(h)):c.EMPTY;if(0===o.length&&d.length>0){if(m.length>1)return c.UNDEFINABLE;var E;if(1===m.length){var T=m[0];(E=f({},h))[T]=p[T].difference,h[T]=p[T].intersection}var b=d.map(function(e){var n=f({},h),t=n[e]=c.difference(c.UNIVERSAL,a[e]);return t===c.EMPTY?t:new r(n)}).filter(u);return E&&b.push(new r(E)),b.length>1?new y.ValuesOr(b):1===b.length?b[0]:c.EMPTY}if(o.length>0&&d.length>0){if(m.length)throw new Error("Can't handle any productable keys right now");if(o.forEach(function(e){h[e]=t[e]}),1===d.length){var q=d[0],I=f({},h);return I[q]=c.difference(c.UNIVERSAL,a[q]),new r(I)}return c.UNDEFINABLE}}var c=e("../set"),f=e("can-assign"),l=e("../array-union-intersection-difference"),d=e("can-reflect"),h=e("can-key/get/get"),p=e("can-symbol"),d=e("can-reflect"),y=e("./types"),v=p.for("can.isMember");r.prototype.isMember=function(e,n,t){var r=!0,a=t?t+".":"";return d.eachKey(this.values,function(t,i){var s=t&&(t[v]||t.isMember);s?s.call(t,h(e,i),n||e,a+i)||(r=!1):t!==h(e,i)&&(r=!1)}),r};var g={};c.defineComparison(r,r,{union:function(e,n){var t=s(e.values,n.values),i=[],u={};t.aAndBKeys.forEach(function(t){c.isEqual(e.values[t],n.values[t])?u[t]=e.values[t]:i.push(t)});var o={},f={};if(i.forEach(function(t){o[t]=e.values[t],f[t]=n.values[t]}),!t.aOnlyKeys.length&&!t.bOnlyKeys.length){if(1===i.length){var l=i[0],h=u[l]=c.union(e.values[l],n.values[l]);return 1===d.size(u)&&c.isEqual(h,c.UNIVERSAL)?c.UNIVERSAL:new r(u)}if(0===i.length)return e}if(0===i.length){if(t.aOnlyKeys.length>0&&0===t.bOnlyKeys.length)return a(n);if(0===t.aOnlyKeys.length&&t.bOnlyKeys.length>0)return a(e)}return t.aOnlyKeys.length>0&&0===t.bOnlyKeys.length&&c.isSubset(new r(o),new r(f))?n:t.bOnlyKeys.length>0&&0===t.aOnlyKeys.length&&c.isSubset(new r(f),new r(o))?e:new y.ValuesOr([e,n])},intersection:function(e,n){var t=!1,a={};return i(e.values,function(e,n,r){a[e]=r===g?n:c.intersection(n,r),a[e]===c.EMPTY&&(t=!0)},n.values,function(e,n,r){a[e]=r,a[e]===c.EMPTY&&(t=!0)}),t?c.EMPTY:new r(a)},difference:o}),c.defineComparison(c.UNIVERSAL,r,{difference:function(e,n){return o({values:{}},n)}}),t.exports=y.KeysAnd=r}),define("can-query-logic@1.1.0#src/types/and-or-not",["require","exports","module","./values-or","./values-not","./keys-and"],function(e,n,t){var r=e("./values-or"),a=e("./values-not"),i=e("./keys-and");t.exports={KeysAnd:i,ValuesOr:r,ValuesNot:a}}),define("can-query-logic@1.1.0#src/helpers",["require","exports","module","can-reflect"],function(e,n,t){var r=e("can-reflect"),a={$gt:function(e,n){return e>n},$lt:function(e,n){return e<n}},i={uniqueConcat:function(e,n,t){var r=new Set;return e.concat(n).filter(function(e){var n=t(e);return!r.has(n)&&(r.add(n),!0)})},getIndex:function(e,n,t){if(n&&n.length){if(-1===e(t,n[0]))return 0;if(1===e(t,n[n.length-1]))return n.length;for(var r=0,a=n.length;r<a;){var i=r+a>>>1;-1===e(t,n[i])?a=i:r=i+1}return a}},sortData:function(e){return"-"===e[0]?{prop:e.slice(1),desc:!0}:{prop:e,desc:!1}},defaultCompare:a,sorter:function(e,n){var t,s=i.sortData(e);return t=n&&n[s.prop]?n[s.prop]:a,function(e,n){var a,i=r.getKeyValue(e,s.prop),u=r.getKeyValue(n,s.prop);return s.desc&&(a=i,i=u,u=a),t.$lt(i,u)?-1:t.$gt(i,u)?1:0}},valueHydrator:function(e){if(r.isBuiltIn(e))return e;throw new Error("can-query-logic doesn't support comparison operator: "+JSON.stringify(e))}};t.exports=i}),define("can-query-logic@1.1.0#src/types/basic-query",["require","exports","module","../set","./make-real-number-range-inclusive","can-assign","can-reflect","./and-or-not","../helpers","can-define-lazy-value","can-symbol"],function(e,n,t){function r(e,n){function t(e){this.key=e,this.compare=p.sorter(e,r)}var r={};return d.eachKey(e,function(e,t){r[t]={$gt:function(r,a){return n({$gt:a},t,e,p.valueHydrator)[v](r)},$lt:function(r,a){return n({$lt:a},t,e,p.valueHydrator)[v](r)}}}),c.defineComparison(t,t,{intersection:function(e,n){return e.key===n.key?e:c.EMPTY},difference:function(e,n){return e.key===n.key?c.EMPTY:e},union:function(e,n){return e.key===n.key?e:c.UNDEFINABLE}}),t}function a(e){l(this,e),this.filter||(this.filter=c.UNIVERSAL),this.page||(this.page=new T),this.sort||(this.sort="id"),"string"==typeof this.sort&&(this.sort=new b(this.sort))}function i(e,n){var t=[];return q.forEach(function(r){c.isEqual(e[r],n[r])||t.push(r)}),t}function s(e,n,t){return!!t[e+"FilterIsSubset"]&&(!!t[n+"PageIsUniversal"]||t[e+"PageIsSubset"]&&t.sortIsEqual)}function u(e,n){this.queryA=e,this.queryB=n}function o(e,n){return new u(e,n)}var c=e("../set"),f=e("./make-real-number-range-inclusive"),l=e("can-assign"),d=e("can-reflect"),h=e("./and-or-not"),p=e("../helpers"),y=e("can-define-lazy-value"),v=e("can-symbol").for("can.isMember"),g=h.KeysAnd,m=h.ValuesOr,E=h.ValuesNot,T=f(0,1/0),b=r({});a.KeysAnd=g,a.Or=m,a.Not=E,a.RecordRange=T,a.makeSort=r,d.assignMap(a.prototype,{count:function(){return this.page.end-this.page.start+1},sortData:function(e){return e.slice(0).sort(this.sort.compare)},filterMembersAndGetCount:function(e,n){if(n){if(!c.isSubset(this,n))throw new Error("can-query-logic: Unable to get members from a set that is not a superset of the current set.")}else n=new a;var t=e.filter(function(e){return this.filter.isMember(e)},this),r=t.length;r&&this.sort.key!==n.sort.key&&(t=this.sortData(t));var i=c.isEqual(this.page,c.UNIVERSAL);if(c.isEqual(n.page,c.UNIVERSAL))return i?{data:t,count:r}:{data:t.slice(this.page.start,this.page.end+1),count:r};if(this.sort.key===n.sort.key&&c.isEqual(n.filter,this.filter))return{data:t.slice(this.page.start-n.page.start,this.page.end-n.page.start+1),count:r};throw new Error("can-query-logic: Unable to get members from the parent set for this subset.")},filterFrom:function(e,n){return this.filterMembersAndGetCount(e,n).data},merge:function(e,n,t,r){var a=c.union(this,e);if(a!==c.UNDEFINABLE){var i=p.uniqueConcat(n,t,r);return a.sortData(i)}},index:function(e,n){var t=p.sortData(this.sort.key);if(d.hasOwnKey(e,t.prop))return p.getIndex(this.sort.compare,n,e)},isMember:function(e){return this.filter.isMember(e)},removePagination:function(){this.page=new T}});var q=["filter","page","sort"];d.eachKey({pageIsEqual:function(){return c.isEqual(this.queryA.page,this.queryB.page)},aPageIsUniversal:function(){return c.isEqual(this.queryA.page,c.UNIVERSAL)},bPageIsUniversal:function(){return c.isEqual(this.queryB.page,c.UNIVERSAL)},pagesAreUniversal:function(){return this.pageIsEqual&&this.aPageIsUniversal},sortIsEqual:function(){return this.queryA.sort.key===this.queryB.sort.key},aFilterIsSubset:function(){return c.isSubset(this.queryA.filter,this.queryB.filter)},bFilterIsSubset:function(){return c.isSubset(this.queryB.filter,this.queryA.filter)},aPageIsSubset:function(){return c.isSubset(this.queryA.page,this.queryB.page)},bPageIsSubset:function(){return c.isSubset(this.queryB.page,this.queryA.page)},filterIsEqual:function(){return c.isEqual(this.queryA.filter,this.queryB.filter)},aIsSubset:function(){return s("a","b",this)},bIsSubset:function(){return s("b","a",this)}},function(e,n){y(u.prototype,n,e)}),c.defineComparison(a,a,{union:function(e,n){var t=o(e,n),r=c.union(e.filter,n.filter);if(t.pagesAreUniversal)return new a({filter:r,sort:t.sortIsEqual?e.sort.key:void 0});if(t.filterIsEqual)return t.sortIsEqual?new a({filter:e.filter,sort:e.sort.key,page:c.union(e.page,n.page)}):t.aIsSubset?n:t.bIsSubset?e:c.UNDEFINABLE;throw new Error("different filters, non-universal pages")},intersection:function(e,n){var t=o(e,n);if(t.pagesAreUniversal){var r=c.intersection(e.filter,n.filter);return c.isDefinedAndHasMembers(r)?new a({filter:r,sort:t.sortIsEqual?e.sort.key:void 0}):r}return c.intersection(e.filter,n.filter)===c.EMPTY?c.EMPTY:t.filterIsEqual?t.sortIsEqual?new a({filter:e.filter,sort:e.sort.key,page:c.intersection(e.page,n.page)}):t.aIsSubset?e:t.bIsSubset?n:c.UNKNOWABLE:t.aIsSubset?e:t.bIsSubset?n:c.UNDEFINABLE},difference:function(e,n){var t,r=i(e,n),s=o(e,n);if(r.length>1)return s.aIsSubset?c.EMPTY:s.pagesAreUniversal?new a({filter:c.difference(e.filter,n.filter),sort:e.sort.key}):c.UNDEFINABLE;switch(t=r[0]){case void 0:return c.EMPTY;case"sort":return s.pagesAreUniversal?c.EMPTY:c.UNKNOWABLE;case"page":case"filter":var u=c.difference(e[t],n[t]);if(c.isSpecial(u))return u;var f={filter:e.filter,page:e.page,sort:e.sort.key};return f[t]=u,new a(f)}}}),t.exports=a}),define("can-query-logic@1.1.0#src/serializer",["require","exports","module","can-reflect"],function(e,n,t){var r=e("can-reflect"),a=function(e){this.serializers=new Map(e||[]),this.serialize=this.serialize.bind(this)};a.prototype.add=function(e){r.assign(this.serializers,e instanceof a?e.serializers:e)},a.prototype.serialize=function(e){if(!e)return e;var n=e.constructor,t=this.serializers.get(n);return t?t(e,this.serialize):r.serialize(e)},t.exports=a}),define("can-query-logic@1.1.0#src/serializers/comparisons",["require","exports","module","../types/comparisons","../serializer","can-reflect"],function(e,n,t){function r(e){return function(n){return new e(n)}}function a(e,n){c[e]=function(t,r){return n(r?r(t[e]):t[e])},Object.defineProperty(c[e],"name",{value:"hydrate "+e,writable:!0})}function i(e,n){c[e]=function(t,r){var a=t[e];return r&&(a=a.map(function(e){return r(e)})),n(a)},Object.defineProperty(c[e],"name",{value:"hydrate "+e,writable:!0})}var s=e("../types/comparisons"),u=e("../serializer"),o=e("can-reflect"),c={};a("$eq",function(e){return new s.In([e])}),a("$ne",function(e){return new s.NotIn([e])}),a("$gt",r(s.GreaterThan)),a("$gte",r(s.GreaterThanEqual)),i("$in",r(s.In)),a("$lt",r(s.LessThan)),a("$lte",r(s.LessThanEqual)),i("$nin",r(s.GreaterThan));var f=new u([[s.In,function(e,n){return 1===e.values.length?n(e.values[0]):{$in:e.values.map(n)}}],[s.NotIn,function(e,n){return 1===e.values.length?{$ne:n(e.values[0])}:{$nin:e.values.map(n)}}],[s.GreaterThan,function(e,n){return{$gt:n(e.value)}}],[s.GreaterThanEqual,function(e,n){return{$gte:n(e.value)}}],[s.LessThan,function(e,n){return{$lt:n(e.value)}}],[s.LessThanEqual,function(e,n){return{$lte:n(e.value)}}],[s.And,function(e,n){var t={};return e.values.forEach(function(e){o.assignMap(t,n(e))}),t}]]);t.exports={hydrate:function(e,n){if(n||(n=function(){throw new Error("can-query-logic doesn't recognize operator: "+JSON.stringify(e))}),Array.isArray(e))return new s.In(e);if(e&&"object"==typeof e){var t=Object.keys(e);if(t.every(function(e){return c[e]})){var r=t.map(function(t){var r={};return r[t]=e[t],(0,c[t])(r,n)});return r.length>1?new s.And(r):r[0]}return n(e)}return new s.In([e])},serializer:f}}),define("can-query-logic@1.1.0#src/schema-helpers",["require","exports","module","can-reflect","./set","can-symbol"],function(e,n,t){var r,a=e("can-reflect"),i=e("./set"),s=e("can-symbol");t.exports=r={isRangedType:function(e){return e&&a.isConstructorLike(e)&&!i.hasComparisons(e)&&!e[s.for("can.SetType")]&&e.prototype.valueOf&&e.prototype.valueOf!==Object.prototype.valueOf},categorizeOrValues:function(e){var n={primitives:[],valueOfTypes:[],others:[]};return e.forEach(function(e){a.isPrimitive(e)?n.primitives.push(e):r.isRangedType(e)?n.valueOfTypes.push(e):n.others.push(e)}),n}}}),define("can-query-logic@1.1.0#src/types/make-maybe",["require","exports","module","../set","./comparisons","can-reflect","../schema-helpers","can-symbol"],function(e,n,t){function r(e,n){var t;if(n instanceof s.And)return n.values.map(function(n){return r(e,n)}).reduce(function(e,n){return{range:i.intersection(e.range,n.range),enum:i.intersection(e.enum,n.enum)}},{range:i.UNIVERSAL,enum:e});if(n instanceof s.In){var a=n.values.filter(function(n){return e.isMember(n)});if(a.length){var o=n.values.slice(0);return u.removeValues(o,a),{enum:new s.In(a),range:o.length?new s.In(o):i.EMPTY}}return{enum:i.EMPTY,range:n}}if(n instanceof s.NotIn){t=i.intersection(e,n);var c=n.values.filter(function(n){return!e.isMember(n)});return{range:c.length?new s.NotIn(c):i.UNIVERSAL,enum:t}}return{enum:i.EMPTY,range:n}}function a(e,n){function t(e){var n=r(a,e.range);if(this.range=n.range||i.EMPTY,e.enum?n.enum!==i.EMPTY?this.enum=i.union(n.enum,e.enum):this.enum=e.enum:this.enum=n.enum,this.enum===i.EMPTY&&this.range===i.EMPTY)return i.EMPTY}var a=new s.In(e);return t.prototype.orValues=function(){var e=[];return this.range!==i.EMPTY&&e.push(this.range),this.enum!==i.EMPTY&&e.push(this.enum),e},t.prototype[l]=function(){var e=this.range[l]||this.range.isMember,n=this.enum[l]||this.enum.isMember;return e.apply(this.range,arguments)||n.apply(this.enum,arguments)},i.defineComparison(t,t,{union:function(e,n){return new t({enum:i.union(e.enum,n.enum),range:i.union(e.range,n.range)})},difference:function(e,n){return new t({enum:i.difference(e.enum,n.enum),range:i.difference(e.range,n.range)})},intersection:function(e,n){return new t({enum:i.intersection(e.enum,n.enum),range:i.intersection(e.range,n.range)})}}),t.inValues=e,i.defineComparison(i.UNIVERSAL,t,{difference:function(e,n){var r,s;if(n.range===i.UNIVERSAL)return new t({range:n.range,enum:i.difference(a,n.enum)});if(n.enum===i.EMPTY){var u=i.difference(i.UNIVERSAL,n.range),o=i.difference(a,n.range);return new t({range:u,enum:i.difference(o,u)})}return r=i.difference(e,n.range),s=i.difference(a,n.enum),new t({enum:s,range:r})}}),n=n||function(e){return e},t.hydrate=function(e,r){return new t({range:r(e,n)})},t}var i=e("../set"),s=e("./comparisons"),u=e("can-reflect"),o=e("../schema-helpers"),c=e("can-symbol"),f=c.for("can.ComparisonSetType"),l=c.for("can.isMember");a.canMakeMaybeSetType=function(e){var n=u.getSchema(e);if(n&&"Or"===n.type){var t=o.categorizeOrValues(n.values);return 1===t.valueOfTypes.length&&t.valueOfTypes.length+t.primitives.length===n.values.length}return!1},a.makeMaybeSetTypes=function(e){var n,t=u.getSchema(e),r=o.categorizeOrValues(t.values);return e[f]?n=e[f]:((n=function(n){this.value=u.new(e,n)}).prototype.valueOf=function(){return this.value},u.assignSymbols(n.prototype,{"can.serialize":function(){return this.value}})),{Maybe:a(r.primitives,function(e){return new n(e)}),ComparisonSetType:n}},t.exports=a}),define("can-query-logic@1.1.0#src/types/make-enum",["require","exports","module","../set","../array-union-intersection-difference","../schema-helpers","can-reflect","can-symbol"],function(e,n,t){function r(e,n){function t(e){var t=Array.isArray(e)?e:[e];this.values=n?t.map(n):t}o.assignSymbols(t.prototype,{"can.serialize":function(){return 1===this.values.length?this.values[0]:this.values}}),t.prototype[l]=function(e){return this.values.some(function(n){return i.isEqual(n,e)})},t.UNIVERSAL=new t(e);var r=function(e,n){var r=s(e.values,n.values);return r.difference.length?new t(r.difference):i.EMPTY};return i.defineComparison(t,t,{union:function(e,n){var r=s(e.values,n.values);return r.union.length?new t(r.union):i.EMPTY},intersection:function(e,n){var r=s(e.values,n.values);return r.intersection.length?new t(r.intersection):i.EMPTY},difference:r}),i.defineComparison(t,i.UNIVERSAL,{difference:function(n){return r(n,{values:e.slice(0)})}}),i.defineComparison(i.UNIVERSAL,t,{difference:function(n,t){return r({values:e.slice(0)},t)}}),t}function a(e,n,t){var a=r(n,t);return e[f]=a,e[l]=function(e){return n.some(function(n){return i.isEqual(n,e)})},a}var i=e("../set"),s=e("../array-union-intersection-difference"),u=e("../schema-helpers"),o=e("can-reflect"),c=e("can-symbol"),f=c.for("can.SetType"),l=c.for("can.isMember"),d=c.for("can.new");a.canMakeEnumSetType=function(e){var n=o.getSchema(e);return!(!n||"Or"!==n.type)&&u.categorizeOrValues(n.values).primitives.length===n.values.length},a.makeEnumSetType=function(e){var n=o.getSchema(e),t=u.categorizeOrValues(n.values),a=e[d]?e[d].bind(e):void 0;return r(t.primitives,a)},t.exports=a}),define("can-query-logic@1.1.0#src/serializers/basic-query",["require","exports","module","can-symbol","can-reflect","../types/basic-query","../set","../serializers/comparisons","../serializer","../types/comparisons","../types/make-maybe","../types/make-enum","can-log/dev/dev","../helpers"],function(e,n,t){function r(e){var n=e.constructor;return n&&n[b]?n[b]().keys||{}:{}}function a(e,n,t){return e&&"object"==typeof e&&"$or"in e?o(e.$or,n,t):s(e,n,t)}function i(e,n,t,r){if(t){var a=t[T];return a?a.hydrate?a.hydrate(e,p.hydrate):h.hasComparisons(a)?new a(e):p.hydrate(e,function(e){return new a(e)}):m.canMakeEnumSetType(t)?(I.has(t)||I.set(t,m.makeEnumSetType(t)),new(a=I.get(t))(e)):g.canMakeMaybeSetType(t)?(I.has(t)||I.set(t,g.makeMaybeSetTypes(t)),(a=I.get(t).Maybe).hydrate(e,p.hydrate)):p.hydrate(e,r)}return p.hydrate(e,r)}function s(e,n,t){function a(e){if(e){if(Array.isArray(e))return e.map(t);if(l.isPlainObject(e))return s(e,r(e))}return t?t(e):e}n=n||{};var u={};return l.eachKey(e,function(e,t){u[t]=i(e,t,n[t],a)}),new d.KeysAnd(u)}function u(e){var n=Object.keys(e[0].values),t={},r=new v.In(n);if(n.map(function(e){t[e]=[]}),e.every(function(e){return!!h.isEqual(r,new v.In(Object.keys(e.values)))&&(l.eachKey(e.values,function(e,n){t[n].push(e)}),!0)})){var a=[];if(n.forEach(function(e){t[e].reduce(function(e,n){return!1!==n&&(void 0===n?e:!!h.isEqual(e,n)&&e)})||a.push(e)}),1===a.length){var i=a[0],s=t[i].reduce(function(e,n){return h.union(e,n)},h.EMPTY),u={};return n.map(function(e){u[e]=t[e][0]}),u[i]=s,new d.KeysAnd(u)}}}function o(e,n,t){var r=e.map(function(e){return s(e,n,t)});return u(r)||new d.Or(r)}function c(e,n,t,r){n.orValues().forEach(function(n){if("function"==typeof n.orValues)c(e,n,t,r);else{var a={};a[r]=t(n),e.push(a)}})}var f=e("can-symbol"),l=e("can-reflect"),d=e("../types/basic-query"),h=e("../set"),p=e("../serializers/comparisons"),y=e("../serializer"),v=e("../types/comparisons"),g=e("../types/make-maybe"),m=e("../types/make-enum"),E=(e("can-log/dev/dev"),e("../helpers")),T=f.for("can.SetType"),b=f.for("can.getSchema"),q=new d({}),I=new WeakMap;t.exports=function(e){var n=e.identity&&e.identity[0],t=e.keys,r=[[d.Or,function(e,n){return e.values.map(function(e){return n(e)})}],[d.KeysAnd,function(e,n){var t=[],r={};return l.eachKey(e.values,function(e,a){"function"==typeof e.orValues?c(t,e,n,a):r[a]=n(e)}),t.length?1===t.length?t[0]:{$or:t.map(function(e){return l.assign(l.serialize(r),e)})}:r}],[d.RecordRange,function(e){return{start:e.start,end:e.end}}],[d,function(e,t){var r=h.isEqual(e.filter,h.UNIVERSAL)?{}:t(e.filter),a={};return 0!==l.size(r)&&(a.filter=r),h.isEqual(e.page,q.page)||(a.page={start:e.page.start},e.page.end!==q.page.end&&(a.page.end=e.page.end)),e.sort.key!==n&&(a.sort=e.sort.key),a}]],s=d.makeSort(t,i),u=new y(r);return u.add(p.serializer),{hydrate:function(e){var r={filter:a(l.serialize(e.filter),t,E.valueHydrator)};return e.page&&(r.page=new d.RecordRange(e.page.start,e.page.end)),e.sort?r.sort=new s(e.sort):r.sort=new s(n),new d(r)},serializer:u}}}),define("can-query-logic@1.1.0#can-query-logic",["require","exports","module","./src/set","can-symbol","can-reflect","./src/serializers/basic-query","./src/types/basic-query","./src/types/comparisons","./src/types/make-enum"],function(e,n,t){function r(e,n){e=e||{};var t,r=n&&n.toQuery,a=n&&n.toParams;(t=e[d]?e[d]():e).identity&&t.identity[0]||(t.identity=["id"]);var i,s,u=c(t);i=r?function(e){return u.hydrate(r(e))}:u.hydrate,s=a?function(e){return a(u.serializer.serialize(e))}:u.serializer.serialize,this.hydrate=i,this.serialize=s,this.schema=t}function a(e){return function(n,t){var r=this.hydrate(n),a=this.hydrate(t),i=s[e](r,a);return this.serialize(i)}}function i(e){return function(n,t){var r=this.hydrate(n),a=this.hydrate(t);return s[e](r,a)}}var s=e("./src/set"),u=e("can-symbol"),o=e("can-reflect"),c=e("./src/serializers/basic-query"),f=e("./src/types/basic-query"),l=e("./src/types/comparisons"),d=u.for("can.getSchema"),h=u.for("can.new"),p=e("./src/types/make-enum");o.assignSymbols(r.prototype,{"can.getSchema":function(){return this.schema}}),o.assign(r.prototype,{union:a("union"),difference:a("difference"),intersection:a("intersection"),isEqual:i("isEqual"),isProperSubset:i("isProperSubset"),isSubset:i("isSubset"),isSpecial:s.isSpecial,isDefinedAndHasMembers:s.isDefinedAndHasMembers,count:function(e){var n=this.hydrate(e);return n.page.end-n.page.start+1},identityKeys:function(){return this.schema.identity},filterMembers:function(e,n,t){var r=this.hydrate(e);if(arguments.length>=3){var a=this.hydrate(n);return r.filterFrom(t,a)}return r.filterFrom(n)},filterMembersAndGetCount:function(e,n,t){var r=this.hydrate(e),a=this.hydrate(n);return r.filterMembersAndGetCount(t,a)},unionMembers:function(e,n,t,r){var a=this.hydrate(e),i=this.hydrate(n),s=this.schema;return a.merge(i,t,r,function(e){return o.getIdentity(e,s)})},isMember:function(e,n){return this.hydrate(e).isMember(n)},memberIdentity:function(e){return o.getIdentity(e,this.schema)},index:function(e,n,t){return this.hydrate(e).index(t,n)},insert:function(e,n,t){var r=this.index(e,n,t);void 0===r&&(r=n.length);var a=n.slice(0);return a.splice(r,0,t),a},isPaginated:function(e){var n=this.hydrate(e);return!s.isEqual(n.page,s.UNIVERSAL)},removePagination:function(e){var n=this.hydrate(e);return n.removePagination(),this.serialize(n)}});for(var y in s)void 0===r[y]&&(r[y]=s[y]);r.makeEnum=function(e){var n=function(){};return n[h]=function(e){return e},p(n,e),n},r.KeysAnd=f.KeysAnd,r.ValuesOr=f.Or,r.In=l.In,r.NotIn=l.NotIn,r.GreaterThan=l.GreaterThan,r.GreaterThanEqual=l.GreaterThanEqual,r.LessThan=l.LessThan,r.LessThanEqual=l.LessThanEqual,r.ValueAnd=l.And,r.ValueOr=l.Or,t.exports=r}),define("can-fixture@3.0.0#matches",["require","exports","module","can-query-logic/src/set","can-reflect","./data-from-url","can-query-logic"],function(e,n,t){function r(e,n){if(e===n)return!0;if(Array.isArray(e)&&Array.isArray(n))return e.every(function(e,t){return r(e,n[t])});if(e&&n&&c.isPlainObject(e)&&c.isPlainObject(n)){for(var t in e){if(!n.hasOwnProperty(t))return!1;if(!r(e[t],n[t]))return!1}return!0}return!1}function a(e){if(e.fixture||e.xhr||e.data){var n=c.serialize(e);return delete n.fixture,delete n.xhr,delete n.data,n}return e}function i(e){var n=function(){},t=function(e){this.value=e};return t.prototype.isMember=function(n,t,r){return e(this.value,n,t,r)},c.assignSymbols(n,{"can.SetType":t}),o.defineComparison(t,t,d),o.defineComparison(o.UNIVERSAL,t,{difference:function(){return o.UNDEFINABLE}}),n}function s(e,n){var t=e.data,i=n.data;if(t&&i&&!r(t,i))return!1;var s=new l.KeysAnd(a(e)),u=new l.KeysAnd(a(n));return o.isEqual(s,u)}function u(e,n){return o.isSubset(new l.KeysAnd(e),new l.KeysAnd(n))}var o=e("can-query-logic/src/set"),c=e("can-reflect"),f=e("./data-from-url"),l=e("can-query-logic"),d={intersection:function(e,n){return e.value===n.value?e:o.EMPTY},difference:function(e,n){return e.value===n.value?o.EMPTY:e},union:function(e,n){return e.value===n.value?e:o.UNDEFINABLE}},h={};c.eachKey({IsEmptyOrNull:function(e,n){return null==e&&0===c.size(n)||null==n&&0===c.size(e)||s(e,n)},isEmptyOrSubset:function(e,n){return null==e&&0===c.size(n)||null==n&&0===c.size(e)||u(e,n)},TemplateUrl:function(e,n){return!!f(e,n)},StringIgnoreCase:function(e,n){return n&&e?e.toLowerCase()===n.toLowerCase():n===e},Ignore:function(){return!0}},function(e,n){h[n]=i(e)});var p={identity:["id"],keys:{url:h.TemplateUrl,fixture:h.Ignore,xhr:h.Ignore,type:h.StringIgnoreCase,method:h.StringIgnoreCase,helpers:h.Ignore,headers:h.IsEmptyOrNull,data:h.IsEmptyOrSubset}},y=new l(p);t.exports={fixture:s,request:function(e,n){return y.isMember({filter:n},e)},matches:function(e,n,t){return t?this.fixture(e,n):this.request(e,n)},makeComparatorType:i}}),define("can-memory-store@1.0.0#make-simple-store",["require","exports","module","can-reflect"],function(e,n,t){function r(e){return Array.isArray(e)?e:e.data}function a(e,n,t){for(var r=s.getSchema(t),a=0;a<e.length;a++)if(n===s.getIdentity(e[a],r))return a;return-1}function i(e){e.constructor=i;var n=Object.create(e);return s.assignMap(n,{getRecordFromParams:function(e){var n=s.getIdentity(e,this.queryLogic.schema);return this.getRecord(n)},log:function(){this._log=!0},getSets:function(){return this.getQueries()},getQueries:function(){return Promise.resolve(this.getQueriesSync())},getQueriesSync:function(){return this.getQueryDataSync().map(function(e){return e.query})},getListData:function(e){e=e||{};var n=this.getListDataSync(e);return n?Promise.resolve(n):Promise.reject({title:"no data",status:"404",detail:"No data available for this query.\nAvailable queries: "+JSON.stringify(this.getQueriesSync())})},getPaginatedListDataSync:function(e){var n=this.getAllRecords(),t=this.queryLogic.removePagination(e.query),r=this.queryLogic.filterMembersAndGetCount(t,{},n),i=a(r.data,e.startIdentity,this.queryLogic),s=r.data.slice(i,i+this.queryLogic.count(e.query));return{count:r.data.length,data:s}},getListDataSync:function(e){for(var n,t=this.getQueryDataSync(),r=this.queryLogic.isPaginated(e),a=0;a<t.length;a++){var i=t[a].query;this.queryLogic.isSubset(e,i)&&(n=t[a])}var s=this.getAllRecords();if(r&&this.queryLogic.isPaginated(n.query)){var u=this.getPaginatedListDataSync(n);return this.queryLogic.filterMembersAndGetCount(e,n.query,u.data)}var o=this.queryLogic.filterMembersAndGetCount(e,{},s);return o&&o.count?o:n?{count:0,data:[]}:void 0},updateListData:function(e,n){var t=this.getQueryDataSync();n=n||{};var a=r(s.serialize(e));this.updateRecordsSync(a);var i=this.queryLogic.isPaginated(n),u=a.length?s.getIdentity(a[0],this.queryLogic.schema):void 0;if(i){for(var o=0;o<t.length;o++){var c=t[o].query,f=this.queryLogic.union(c,n);if(this.queryLogic.isDefinedAndHasMembers(f)){var l=this.getPaginatedListDataSync(t[o]),d=this.queryLogic.unionMembers(c,n,l.data,a);return u=s.getIdentity(d[0],this.queryLogic.schema),t[o]={query:f,startIdentity:u},this.updateQueryDataSync(t),Promise.resolve()}}return t.push({query:n,startIdentity:u}),this.updateQueryDataSync(t),Promise.resolve()}var h=this.getAllRecords(),p=this.queryLogic.filterMembers(n,h);if(p.length){var y=new Map;p.forEach(function(e){y.set(s.getIdentity(e,this.queryLogic.schema),e)},this),a.forEach(function(e){y.delete(s.getIdentity(e,this.queryLogic.schema))},this),this.destroyRecords(s.toArray(y.values()))}var v=this.getQueryDataSync().filter(function(e){return!this.queryLogic.isSubset(e.query,n)},this);return v.filter(function(e){return this.queryLogic.isSubset(n,e.query)},this).length?this.updateQueryDataSync(v):this.updateQueryDataSync(v.concat([{query:n,startIdentity:u}])),Promise.resolve()},getData:function(e){var n=s.getIdentity(e,s.getSchema(this.queryLogic)),t=this.getRecord(n);return t?Promise.resolve(t):Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."})},createData:function(e){return this.updateRecordsSync([e]),Promise.resolve(s.assignMap({},this.getRecordFromParams(e)))},updateData:function(e){if(this.errorOnMissingRecord&&!this.getRecordFromParams(e)){var n=s.getIdentity(e,this.queryLogic.schema);return Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."})}return this.updateRecordsSync([e]),Promise.resolve(s.assignMap({},this.getRecordFromParams(e)))},destroyData:function(e){var n=s.getIdentity(e,this.queryLogic.schema),t=this.getRecordFromParams(e);return this.errorOnMissingRecord&&!t?Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."}):(this.destroyRecords([e]),Promise.resolve(s.assignMap({},t||e)))}})}var s=e("can-reflect");t.exports=i}),define("can-memory-store@1.0.0#can-memory-store",["require","exports","module","can-reflect","can-namespace","./make-simple-store"],function(e,n,t){var r=e("can-reflect"),a=e("can-namespace"),i=e("./make-simple-store");t.exports=a.memoryStore=function e(n){n.constructor=e;var t=Object.create(i(n));return r.assignMap(t,{clear:function(){this._instances={},this._queries=[]},_queryData:[],updateQueryDataSync:function(e){this._queryData=e},getQueryDataSync:function(){return this._queryData},_instances:{},getRecord:function(e){return this._instances[e]},getAllRecords:function(){var e=[];for(var n in this._instances)e.push(this._instances[n]);return e},destroyRecords:function(e){r.eachIndex(e,function(e){var n=r.getIdentity(e,this.queryLogic.schema);delete this._instances[n]},this)},updateRecordsSync:function(e){e.forEach(function(e){var n=r.getIdentity(e,this.queryLogic.schema);this._instances[n]=e},this)}}),t}}),define("can-fixture@3.0.0#store",["require","exports","module","can-query-logic","can-reflect","can-memory-store"],function(e,n,t){function r(e){var n=this.connection.queryLogic.schema,t=n.identity[0],r=n.keys;r&&r[t]||((r={})[t]=function(e){return"string"==typeof e?f(e):e});var a={};return s.eachKey(e,function(e,n){r[n]?a[n]=s.convert(e,r[n]):a[n]=e}),a}function a(e){return e&&"identityKeys"in e}var i=e("can-query-logic"),s=e("can-reflect"),u=e("can-memory-store"),o=function(e,n){return function(t,r){this.connection[e](n.call(this,t.data)).then(function(e){r(e)},function(e){r(parseInt(e.status,10),e)})}},c=function(e,n){return function(){var t=[],r=0;return e.forEach(function(e){t.push(s.serialize(e)),r=Math.max(e[n],r)}),{maxId:r,items:t}}},f=function(e){switch(e){case"NaN":case"Infinity":return+e;case"null":return null;case"undefined":return;case"true":case"false":return"true"===e;default:var n=+e;return isNaN(n)?e:n}},l=function(e,n,t){var r=e.queryLogic.schema,a=r.identity[0],i=r.keys;i&&i[a]||console.warn("No type specified for identity key. Going to convert strings to reasonable type."),this.connection=e,this.makeItems=n,this.idProp=t,this.reset();for(var s in l.prototype)this[s]=this[s].bind(this)};s.assignMap(l.prototype,{getListData:o("getListData",function(e){return e}),getData:o("getData",r),createData:function(e,n){var t=this.idProp;e.data[t]=++this.maxId,this.connection.createData(r.call(this,e.data)).then(function(e){n(e)},function(e){n(403,e)})},createInstance:function(e){var n=this.idProp;return n in e||(e[n]=++this.maxId),this.connection.createData(e)},updateData:o("updateData",r),updateInstance:function(e){return this.connection.updateData(e)},destroyInstance:function(e){return this.connection.destroyData(e)},destroyData:o("destroyData",r),reset:function(e){e&&(this.makeItems=c(e,this.idProp));var n=this.makeItems();this.maxId=n.maxId,this.connection.updateListData(n.items,{})},get:function(e){var n=this.connection.queryLogic.memberIdentity(e);return this.connection.getRecord(n)},getList:function(e){return this.connection.getListDataSync(e)}}),l.make=function(e,n,t){var r,s;"number"==typeof e?(t?a(t)||(t=new i(t)):t=new i({}),s=t.identityKeys()[0]||"id",r=function(){for(var t=[],r=0,a=0;a<e;a++){var i=n(a,t);i[s]||(i[s]=a),r=Math.max(i[s],r),t.push(i)}return{maxId:r,items:t}}):Array.isArray(e)&&((t=n)?a(t)||(t=new i(t)):t=new i({}),s=t.identityKeys()[0]||"id",r=c(e,s));var o=u({queryLogic:t,errorOnMissingRecord:!0});return new l(o,r,s)},t.exports=l}),define("can-fixture@3.0.0#core",["require","exports","module","can-key/sub/sub","can-reflect","./matches","can-log","can-log/dev/dev","./data-from-url","./store"],function(e,n,t){"use strict";function r(e){return e&&(e.getData||e.getListData)}function a(e){var n=e.match(/(GET|POST|PUT|DELETE|PATCH) (.+)/i);return n?[n[1],n[2]]:[void 0,e]}function i(e){var n=/\{(.*)\}/,t=e.match(n);if(t&&2===t.length)return t[1]}function s(e,n){if(!(n=n||i(e)))return[void 0,e];var t=new RegExp("\\/\\{"+n+"\\}.*"),r=t.test(e),a=r?e.replace(t,""):e;return[r?e:e.trim()+"/{"+n+"}",a]}function u(e,n){var t={},r=a(e),i=r[0],u=s(r[1],n.idProp),o=u[0],c=u[1];if(i){var f=['fixture("'+e+'", fixture) must use a store method, not a store directly.'];if(o){var l=m.item[i];if(l){t[i+" "+o]=n[l];var d='Replace with fixture("'+i+" "+o+'", fixture.'+l+") for items.";f.push(d)}}var h=m.list[i];if(h){t[i+" "+c]=n[h];var p='Replace with fixture("'+i+" "+c+'", fixture.'+h+") for lists.";f.push(p)}var v=f.join(" ");y.warn(v)}else{var g=m.item;for(var E in g){var T=g[E];t[E+" "+o]=n[T]}var b=m.list;for(var q in b){var I=b[q];t[q+" "+c]=n[I]}}return t}function o(e){var n=a(e),t=n[0],r=n[1];return t?{type:t,url:r}:{url:r}}function c(e,t,r){var a=n.index(t,!0);if(a>-1&&g.splice(a,1),null!=r){if("object"==typeof r){var i=r;r=function(){return i}}t.fixture=r,g.unshift(t)}}function f(e,n){this.statusCode=n[0],this.responseBody=n[1],this.headers=n[2],this.statusText=n[3],this.fixture=e}var l=e("can-key/sub/sub"),d=e("can-reflect"),h=e("./matches"),p=e("can-log"),y=e("can-log/dev/dev"),v=e("./data-from-url");e("./store");var g=[];n.fixtures=g;var m={item:{GET:"getData",PUT:"updateData",DELETE:"destroyData"},list:{GET:"getListData",POST:"createData"}};n.add=function(e,t){if(void 0!==t){if(r(t))return e=u(e,t),void n.add(e);"string"==typeof e&&(e=o(e)),c(0,e,t)}else d.eachKey(e,function(e,t){n.add(t,e)})};var E=n.add;E.on=!0,E.delay=10,n.callDynamicFixture=function(e,t,r){e.data=t.data;var a=function(){var a=n.extractResponse.apply(e,arguments);return p.log("can-fixture: "+e.type.toUpperCase()+" "+e.url+" ",e.data," => ",new f(t.fixture,a)),r.apply(this,a)},i=function(){var n=t.fixture(e,a,e.headers,t);void 0!==n&&a(200,n)};return e.async?setTimeout(i,E.delay):(i(),null)},n.index=function(e,n){for(var t=0;t<g.length;t++)if(h.matches(e,g[t],n))return t;return-1},n.get=function(e){if(E.on){var t=n.index(e,!0);-1===t&&(t=n.index(e,!1));var r=t>=0?d.assignMap({},g[t]):void 0;if(r){var a=r.fixture,i=v(r.url,e.url);if("string"==typeof r.fixture)i&&(a=l(a,i)),r.url=a,r.data=null,r.type="GET",r.error||(r.error=function(e,n,t){throw"fixtures.js Error "+n+" "+t});else if(d.isPlainObject(e.data)||null==e.data){var s=d.assignMap({},e.data||{});r.data=d.assignMap(s,i)}else r.data=e.data}return r}},n.matches=h,n.extractResponse=function(e,n,t,r){return"number"!=typeof e&&(t=n,n=e,e=200),"string"==typeof t&&(r=t,t={}),[e,n,t,r]}}),define("can-deparam@1.2.0#can-deparam",["require","exports","module","can-namespace"],function(e,n,t){"use strict";function r(e){return s.test(e)||"[]"===e}function a(e){return e}var i=e("can-namespace"),s=/^\d+$/,u=/([^\[\]]+)|(\[\])/g,o=/([^?#]*)(#.*)?$/,c=/%([^0-9a-f][0-9a-f]|[0-9a-f][^0-9a-f]|[^0-9a-f][^0-9a-f])/i,f=function(e){e=e.replace(/\+/g," ");try{return decodeURIComponent(e)}catch(n){return decodeURIComponent(e.replace(c,function(e,n){return"%25"+n}))}};t.exports=i.deparam=function(e,n){n=n||a;var t,i={};return e&&o.test(e)&&e.split("&").forEach(function(e){var a=e.split("="),s=f(a.shift()),o=f(a.join("=")),c=i;if(s){for(var l=0,d=(a=s.match(u)).length-1;l<d;l++){var h=a[l],p=a[l+1],y=r(h)&&c instanceof Array;c[h]||(y?c.push(r(p)?[]:{}):c[h]=r(p)?[]:{}),c=y?c[c.length-1]:c[h]}r(t=a.pop())?c.push(n(o)):c[t]=n(o)}}),i}}),define("can-fixture@3.0.0#xhr",["require","exports","module","./core","can-deparam","can-reflect","can-log"],function(e,n,t){!function(e,n,t,r){"use strict";function a(e,n){for(var t=e.__events[n]||[],r=0,a=t.length;r<a;r++)t[r].call(e)}var i=n("./core"),s=n("can-deparam"),u=n("can-reflect"),o=n("can-log"),c=XMLHttpRequest,f=void 0!==e?e:window,l=["type","url","async","response","responseText","responseType","responseXML","responseURL","status","statusText","readyState"],d=["abort","error","load","loadend","loadstart","progress","readystatechange"];!function(){var e=new c;for(var n in e)0===n.indexOf("on")?-1===d.indexOf(n.substr(2))&&d.push(n.substr(2)):-1===l.indexOf(n)&&"function"!=typeof e[n]&&l.push(n)}(),f.XMLHttpRequest=function(){var e=this,n=new c;this._xhr=n,this._requestHeaders={},this.__events={},d.forEach(function(t){n["on"+t]=function(){if(a(e,t),e["on"+t])return e["on"+t].apply(e,arguments)}}),this.onload=null},f.XMLHttpRequest._XHR=c,u.assignMap(XMLHttpRequest.prototype,{setRequestHeader:function(e,n){this._requestHeaders[e]=n},open:function(e,n,t){this.type=e,this.url=n,this.async=!1!==t},getAllResponseHeaders:function(){return this._xhr.getAllResponseHeaders.apply(this._xhr,arguments)},addEventListener:function(e,n){(this.__events[e]=this.__events[e]||[]).push(n)},removeEventListener:function(e,n){var t=this.__events[e]=this.__events[e]||[],r=t.indexOf(n);r>=0&&t.splice(r,1)},setDisableHeaderCheck:function(e){this._disableHeaderCheck=!!e},getResponseHeader:function(e){return this._xhr.getResponseHeader(e)},abort:function(){var e=this._xhr;return void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),e.open(this.type,this.url,!1!==this.async),e.send()),e.abort()},send:function(e){var n=this.type.toLowerCase()||"get",t={url:this.url,data:e,headers:this._requestHeaders,type:n,method:n,async:this.async,xhr:this};if((!t.data&&"get"===t.type||"delete"===t.type)&&(t.data=s(t.url.split("?")[1]),t.url=t.url.split("?")[0]),"string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(e){t.data=s(t.data)}var r=i.get(t),c=this;if(!r||"function"!=typeof r.fixture){var f=function(){return c._xhr.open(c._xhr.type,c._xhr.url,c._xhr.async),c._requestHeaders&&Object.keys(c._requestHeaders).forEach(function(e){c._xhr.setRequestHeader(e,c._requestHeaders[e])}),c._xhr.send(e)};return r&&"number"==typeof r.fixture?(o.log("can-fixture: "+t.url+" => delay "+r.fixture+"ms"),void(this.timeoutId=setTimeout(f,r.fixture))):(r&&(o.log("can-fixture: "+t.url+" => "+r.url),u.assignMap(c,r)),f())}this.timeoutId=i.callDynamicFixture(t,r,function(e,n,t,r){n="string"==typeof n?n:JSON.stringify(n),c._xhr={open:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},u.assignMap(c,{readyState:4,status:e}),e>=200&&e<300||304===e?u.assignMap(c,{statusText:r||"OK",responseText:n}):u.assignMap(c,{statusText:r||"error",responseText:n}),c.getAllResponseHeaders=function(){var e=[];return u.eachKey(t||{},function(n,t){Array.prototype.push.apply(e,[t,": ",n,"\r\n"])}),e.join("")},c.onreadystatechange&&c.onreadystatechange({target:c}),a(c,"progress"),c.onprogress&&c.onprogress(),a(c,"load"),c.onload&&c.onload(),a(c,"loadend"),c.onloadend&&c.onloadend()})}}),l.forEach(function(e){Object.defineProperty(XMLHttpRequest.prototype,e,{get:function(){return this._xhr[e]},set:function(n){try{this._xhr[e]=n}catch(e){}}})})}(function(){return this}(),e)}),define("can-fixture@3.0.0#fixture",["require","exports","module","./core","./store","./xhr","can-reflect","can-namespace"],function(e,n,t){"use strict";var r=e("./core"),a=r.add,i=e("./store");e("./xhr");var s=e("can-reflect"),u=e("can-namespace"),o=function(){};s.assignMap(a,{rand:function e(n,t,r){if("number"==typeof n)return"number"==typeof t?n+Math.floor(Math.random()*(t-n+1)):Math.floor(Math.random()*(n+1));var a=n.slice(0);void 0===t?(t=1,r=a.length):void 0===r&&(r=t);for(var i=[],s=t+Math.round(e(r-t)),u=0;u<s;u++){var o=e(a.length-1),c=a.splice(o,1)[0];i.push(c)}return i},xhr:function(e){return s.assignMap({},{abort:o,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:o,overrideMimeType:o,readyState:4,responseText:"",responseXML:null,send:o,setRequestHeader:o,status:200,statusText:"OK"},e)},store:i.make,fixtures:r.fixtures}),"undefined"!=typeof window&&"function"!=typeof e.resolve&&(window.fixture=a),t.exports=u.fixture=a}),define("spectre-canjs@3.4.2#sp-form/demo/full/fixtures",["can-fixture@3.0.0#fixture"],function(e){"use strict";function n(e){var n=new FileReader;return n.readAsDataURL(e),n.onerror=function(e){console.log("Error: ",e)},n}var t=function(e){return e&&e.__esModule?e:{default:e}}(e);t.default.delay=2e3,(0,t.default)({method:"POST",url:"/upload"},function(e,t,r,a){try{var i=Array.from(e.data.entries()).filter(function(e){return"uri"===e[0]})[0][1],s=n(i);s.onload=function(){t({uri:s.result,id:i.name},{"content-type":"application/json"})}}catch(e){dev.warn(e)}}),(0,t.default)({method:"DELETE",url:"/upload/{id}"},function(e,n,t,r){console.warn(e),n({result:"success"})})}),define("spectre-canjs@3.4.2#sp-form/demo/full/full",["exports","spectre-canjs@3.4.2#sp-form/demo/full/full.stache!steal-stache@4.1.2#steal-stache","json-pretty-html@1.1.2#dist/bundle","flatpickr@4.5.1#dist/flatpickr","can-define@2.5.4#map/map","spectre-canjs@3.4.2#sp-form/sp-form","spectre-canjs@3.4.2#sp-form/fields/sp-text-field/sp-text-field","spectre-canjs@3.4.2#sp-form/fields/sp-select-field/sp-select-field","spectre-canjs@3.4.2#sp-form/fields/sp-dropzone-field/sp-dropzone-field","spectre-canjs@3.4.2#sp-form/fields/sp-subform-field/sp-subform-field","spectre-canjs@3.4.2#sp-form/fields/sp-check-field/sp-check-field","spectre-canjs@3.4.2#sp-form/demo/full/full.less!steal-less@1.3.1#less","flatpickr@4.5.1#dist/flatpickr.css!steal-css@1.3.2#css","spectre-canjs@3.4.2#sp-form/demo/full/fixtures","can-component@4.3.0#can-component","spectre-canjs@3.4.2#sp-form/template.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.4.2#sp-form/ViewModel","spectre-canjs@3.4.2#util/field/base/FieldIteratorMap","spectre-canjs@3.4.2#util/field/parseFieldArray/parseFieldArray","spectre-canjs@3.4.2#util/field/Field","spectre-canjs@3.4.2#util/string/string","can-define@2.5.4#list/list","spectre-canjs@3.4.2#util/field/fieldComponents","can-stache@4.10.3#can-stache","spectre-canjs@3.4.2#util/field/mapToFields/mapToFields","spectre-canjs@3.4.2#sp-form/widget.less!steal-less@1.3.1#less","spectre-canjs@3.4.2#sp-form/fields/sp-text-field/sp-text-field.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.4.2#sp-form/fields/sp-text-field/ViewModel","spectre-canjs@3.4.2#sp-form/fields/sp-select-field/sp-select-field.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.4.2#sp-form/fields/sp-select-field/ViewModel","spectre-canjs@3.4.2#sp-form/fields/sp-dropzone-field/sp-dropzone-field.less!steal-less@1.3.1#less","spectre-canjs@3.4.2#sp-form/fields/sp-dropzone-field/sp-dropzone-field.stache!steal-stache@4.1.2#steal-stache","dropzone@5.5.1#dist/dropzone.css!steal-css@1.3.2#css","dropzone@5.5.1#dist/basic.css!steal-css@1.3.2#css","spectre-canjs@3.4.2#sp-form/fields/sp-dropzone-field/ViewModel","dropzone@5.5.1#dist/dropzone","axios@0.18.0#index","spectre-canjs@3.4.2#sp-form/fields/sp-subform-field/sp-subform-field.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.4.2#sp-form/fields/sp-subform-field/sp-subform-field.less!steal-less@1.3.1#less","spectre-canjs@3.4.2#sp-form/fields/sp-subform-field/ViewModel","spectre-canjs@3.4.2#sp-form/fields/sp-check-field/template.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.4.2#sp-form/fields/sp-check-field/ViewModel","can-fixture@3.0.0#fixture"],function(e,n,t,r,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(n),u=i(t),o=i(r),c=i(a),f=c.default.extend("ChildDemoObject",{json_field_1:"string",json_field_2:{validate:function(e){return 2!=e.value?"The value must be 2":void 0},default:2,editTag:"sp-select-field",defaultLabel:"These values are loading asynchronously!",optionsPromise:new Promise(function(e){setTimeout(function(){e([{value:1,label:"Option 1"},{value:2,label:"Option 2"}])},5e3)})},json_field_3:{type:"number",validate:function(e){var n=parseInt(e.value,10);return!n||n<10?"Please enter a value greater than 10":void 0}},json_field_4:{type:"boolean",editTag:"sp-check-field",style:"switch",serialize:function(e){return String(e)},validate:function(e){return console.log(e.value),e.value?"":"You must agree to these terms"}}}),l=c.default.extend("DemoObject",{field1:{type:"string",default:"Default Value",name:"field1",alias:"Please enter at least 50 characters",validate:function(e){return e.dirty.assign({field1Length:e.value?e.value.length:0}),e.value.length<50&&"This field must contain at least 50 characters"}},field2:{type:"string",name:"field2",alias:"A basic textarea field",textarea:!0,placeholder:"Enter the text: hello",validate:function(e){return"hello"!=e.value?'This field must contain the text, "hello"':""}},field3:{type:"number",default:1,name:"field3",alias:"A select dropdown",editTag:"sp-select-field",validate:function(e){if(1!=e.value)return"This field must be 1"},options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},field4:{type:"date",serialize:function(e){return e?e.toDateString():"Not set"},name:"field4",onInsert:function(e){var n=(0,o.default)(e);return function(){n.destroy()}},alias:"A date field",ui:"datepicker",placeholder:"Enter a date..."},field5:{name:"field5",alias:"A file field",editTag:"sp-dropzone-field",url:"/upload",serialize:function(e){return e?e.map(function(e){return e.id}).join(","):""}},field6:{Type:f,name:"field6",alias:"A Subform Field",editTag:"sp-subform-field",Default:f,ObjectTemplate:f},field1Length:{edit:!1,type:"number"},field7:{type:"boolean",name:"field7",alias:"A checkbox",editTag:"sp-check-field",default:!1},cascade_1:{type:"string",name:"cascade_1",alias:"Car Make - (cascade dropdown 1)",defaultLabel:"First choose a make...",options:[{value:"Ford"},{value:"Chevy"},{value:"Toyota"}],editTag:"sp-select-field"},cascade_2:{type:"string",name:"cascade_2",alias:"Car Model - (cascade dropdown 2)",defaultLabel:"Then choose a model...",getOptions:function(e){return{Ford:[{value:"Fiesta"},{value:"Focus"},{value:"Taurus"}],Chevy:[{value:"Spark"},{value:"Sonic"},{value:"Bolt"}],Toyota:[{value:"Prius"},{value:"Corolla"},{value:"Camry"}]}[e.cascade_1]||[{value:"None",label:"Choose a make first..."}]},validate:function(e){if(!e.dirty.cascade_1)return"You need to choose a make first"},editTag:"sp-select-field"}}),d=new c.default({object:new l,formSaving:!1,onSubmit:function(){var e=this;console.log(this.object),console.log("submitted data: ",this.object.serialize()),alert("Form submitted! See the console for details"),setTimeout(function(){e.formSaving=!1},3e3)},onCancel:function(){console.log("Form canceled!")},stringify:function(e){if(e)return(0,u.default)(e.serialize())}});e.default=function(){var e=(0,s.default)(d);document.body.appendChild(e)}});
//# sourceMappingURL=full.js.map