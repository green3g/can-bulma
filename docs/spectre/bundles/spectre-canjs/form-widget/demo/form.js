/*spectre-canjs@0.28.4#form-widget/field-components/file-field/file-field.stache!steal-stache@3.0.7#steal-stache*/
define("spectre-canjs@0.28.4#form-widget/field-components/file-field/file-field.stache!steal-stache@3.0.7#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.0.7#can-view-import","can-stache-bindings@3.0.19#can-stache-bindings"],function(e,t,a){var r=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"attrValue",args:["has-error"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n\r\n\r\n    "]},{tokenType:"start",args:["ul",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["ul",!1]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["li",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-item"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["li",!1]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["input-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"start",args:["label",!1]},{tokenType:"special",args:["#if properties.inline"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["hide"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"special",args:["/if"]},{tokenType:"attrStart",args:["for"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"start",args:["input",!0]},{tokenType:"attrStart",args:["($change)"]},{tokenType:"attrValue",args:["onChange(%element)"]},{tokenType:"attrEnd",args:["($change)"]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["file"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control form-input"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["name"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["name"]},{tokenType:"special",args:["#if properties.multiple"]},{tokenType:"attrStart",args:["multiple"]},{tokenType:"attrEnd",args:["multiple"]},{tokenType:"special",args:["/if"]},{tokenType:"end",args:["input",!0]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n\r\n            "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"start",args:["span",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-input-hint"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!1]},{tokenType:"special",args:[" errors[properties.name]"]},{tokenType:"close",args:["span"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"close",args:["li"]},{tokenType:"special",args:["#if state.isPending"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["li",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-item loading"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["li",!1]},{tokenType:"close",args:["li"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"special",args:["#if currentFiles.length"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"comment",args:[" menu header "]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["li",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-header"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["li",!1]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"start",args:["span",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-header-text"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!1]},{tokenType:"chars",args:["\r\n            Current Files\r\n        "]},{tokenType:"close",args:["span"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"close",args:["li"]},{tokenType:"special",args:["#each currentFiles"]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"comment",args:[" menu item "]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"start",args:["li",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-item clear"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["li",!1]},{tokenType:"chars",args:["\r\n                    "]},{tokenType:"start",args:["a",!1]},{tokenType:"attrStart",args:["href"]},{tokenType:"special",args:["path"]},{tokenType:"attrEnd",args:["href"]},{tokenType:"attrStart",args:["target"]},{tokenType:"attrValue",args:["_blank"]},{tokenType:"attrEnd",args:["target"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["float-left"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["a",!1]},{tokenType:"chars",args:["\r\n                        "]},{tokenType:"start",args:["i",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["icon icon-link"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["i",!1]},{tokenType:"close",args:["i"]},{tokenType:"chars",args:[" "]},{tokenType:"special",args:["path"]},{tokenType:"chars",args:["\r\n                    "]},{tokenType:"close",args:["a"]},{tokenType:"chars",args:["\r\n                    "]},{tokenType:"start",args:["button",!1]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["button"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["btn ml-10 "]},{tokenType:"special",args:["#if removing"]},{tokenType:"attrValue",args:["loading"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["($click)"]},{tokenType:"attrValue",args:["removeFile(.)"]},{tokenType:"attrEnd",args:["($click)"]},{tokenType:"end",args:["button",!1]},{tokenType:"start",args:["i",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["fa fa-trash"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["i",!1]},{tokenType:"close",args:["i"]},{tokenType:"close",args:["button"]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"close",args:["li"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"close",args:["ul"]},{tokenType:"chars",args:["\r\n\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,s,n){var p={module:e};return s instanceof a.Options||(s=new a.Options(s||{})),r(t,s.add(p),n)}});
/*spectre-canjs@0.28.4#form-widget/field-components/file-field/file-field*/
define("spectre-canjs@0.28.4#form-widget/field-components/file-field/file-field",["exports","can-define/list/list","can-define/map/map","can-component","can-event","object-assign","can-util/js/dev/dev","./file-field.stache!","./file-field.less"],function(e,t,i,n,s,r,o,a){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var l=u(t),d=u(i),c=u(n),f=u(s),h=u(r),p=u(o),v=u(a),m=d.default.extend({path:"string",removing:"boolean"}),g=e.ViewModel=d.default.extend("FileField",{properties:{Value:d.default},errors:{Value:d.default},value:{type:"string",value:""},currentFiles:{get:function(e){return e||(e=this.currentFiles=new l.default(this.value.split(",").filter(function(e){return""!==e}).map(function(e){return new m({path:e,removing:!1})})),e.on("add",this.updateValue.bind(this)),e.on("remove",this.updateValue.bind(this))),e}},state:{value:{isResolved:!0}},progress:{type:"number",value:100},onChange:function(e){var t=this;e.files&&(!this.properties.multiple&&this.currentFiles.length?this.removeFile(this.currentFiles[0]).then(function(){t.uploadFiles(e.files)}).catch(function(e){t.uploadError(e)}):this.uploadFiles(e.files))},uploadFiles:function(e){var t=this;this.errors[this.properties.name]=null;for(var i=new FormData,n=0;n<e.length;n++)i.append(n,e.item(n));this.state=new Promise(function(e,n){var s=new XMLHttpRequest;s.open("POST",t.properties.url,!0),s.onload=function(){200===s.status?e(JSON.parse(s.responseText)):n(s)},s.onerror=n,s.send(i)}).then(this.uploadSuccess.bind(this)).catch(this.uploadError.bind(this))},uploadSuccess:function(e){var t=this;void 0===e.error?e.uploads.forEach(function(e){var i=new m({path:e,removing:!1});t.currentFiles.push(i)}):p.default.warn("ERRORS: ",e.error)},updateValue:function(){this.currentFiles.length?this.value=this.currentFiles.map(function(e){return e.path}).join(","):this.value="",this.dispatch("fieldchange",[{value:this.value,name:this.properties.name}])},uploadError:function(e,t,i){413===e.status&&(this.errors[this.properties.name]="The uploaded file is too large"),p.default.warn("ERRORS: ",e,t,i)},removeFile:function(e){var t=this;return confirm("The file at "+e+" will be removed. Are you sure you want to do this?")?!e.removing&&(e.removing=!0,this.state=new Promise(function(i,n){var s=new XMLHttpRequest;s.open("DELETE",t.properties.url,!0),s.onload=function(){200===s.status?i(JSON.parse(s.responseText)):n(s)},s.onerror=n,s.setRequestHeader("Content-type","application/json"),s.send(JSON.stringify({file:e.path}))}).then(this.removeSuccess.bind(this,e)).catch(this.removeError.bind(this,e)),this.state):(this.state=new Promise(function(e,t){t({message:"User canceled out of dialog"})}),this.state)},removeSuccess:function(e){this.currentFiles.splice(this.currentFiles.indexOf(e),1),this.updateValue()},removeError:function(e,t){404===t.status&&this.removeSuccess(e,t),p.default.warn("Error: ",t)}});(0,h.default)(g.prototype,f.default),e.default=c.default.extend({tag:"file-field",view:v.default,ViewModel:g})});
/*spectre-canjs@0.28.4#form-widget/field-components/json-field/json-field.stache!steal-stache@3.0.7#steal-stache*/
define("spectre-canjs@0.28.4#form-widget/field-components/json-field/json-field.stache!steal-stache@3.0.7#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.0.7#can-view-import","can-stache-bindings@3.0.19#can-stache-bindings"],function(e,t,a){var r=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n  "]},{tokenType:"start",args:["fieldset",!1]},{tokenType:"end",args:["fieldset",!1]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["legend",!1]},{tokenType:"end",args:["legend",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["legend"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["form-widget",!0]},{tokenType:"attrStart",args:["inline"]},{tokenType:"special",args:["properties.inline"]},{tokenType:"attrEnd",args:["inline"]},{tokenType:"attrStart",args:["{form-object}"]},{tokenType:"attrValue",args:["jsonFormObject"]},{tokenType:"attrEnd",args:["{form-object}"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["saveField"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"attrStart",args:["{fields}"]},{tokenType:"attrValue",args:["formFields"]},{tokenType:"attrEnd",args:["{fields}"]},{tokenType:"attrStart",args:["show-buttons"]},{tokenType:"attrValue",args:["false"]},{tokenType:"attrEnd",args:["show-buttons"]},{tokenType:"end",args:["form-widget",!0]},{tokenType:"chars",args:["\r\n  "]},{tokenType:"close",args:["fieldset"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,n,s){var o={module:e};return n instanceof a.Options||(n=new a.Options(n||{})),r(t,n.add(o),s)}});
/*spectre-canjs@0.28.4#form-widget/field-components/json-field/json-field*/
define("spectre-canjs@0.28.4#form-widget/field-components/json-field/json-field",["exports","can-component","can-define/map/map","can-event","../../../../util/field","can-util/js/assign/assign","can-util/js/dev/dev","./json-field.stache!","./json-field.less"],function(e,t,i,s,n,a,r,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var d=o(t),f=o(i),u=o(s),p=o(a),c=o(r),j=o(l),m=e.ViewModel=f.default.extend("JSONField",{properties:{Value:f.default,set:function(e){var t=e.ObjectTemplate,i=void 0;return t?i=new t:(c.default.warn("json-field needs an ObjectTemplate defined in its field properties"),i=new f.default),this.jsonFormObject=i,e}},value:{type:"string",set:function(e){if(e)try{var t=JSON.parse(e);this.jsonFormObject.set(t)}catch(t){c.default.warn("error parsing json, value set on json-field was "+e),c.default.warn(t)}return e}},errors:"*",jsonFormObject:{Value:f.default},formFields:{get:function(){return this.properties.fields&&this.properties.fields.length?(0,n.parseFieldArray)(this.properties.fields):(0,n.mapToFields)(this.properties.ObjectTemplate)}},saveField:function(e,t,i,s){this.jsonFormObject.set(s.name,s.value);var n=JSON.stringify(this.jsonFormObject.serialize());this.value=n,this.dispatch("fieldchange",[{value:n,name:this.properties.name}])}});(0,p.default)(m.prototype,u.default),e.default=d.default.extend({tag:"json-field",view:j.default,ViewModel:m})});
/*spectre-canjs@0.28.4#form-widget/field-components/subform-field/subform-field.stache!steal-stache@3.0.7#steal-stache*/
define("spectre-canjs@0.28.4#form-widget/field-components/subform-field/subform-field.stache!steal-stache@3.0.7#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.0.7#can-view-import","can-stache-bindings@3.0.19#can-stache-bindings"],function(e,t,a){var r=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n  "]},{tokenType:"start",args:["fieldset",!1]},{tokenType:"end",args:["fieldset",!1]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["legend",!1]},{tokenType:"end",args:["legend",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["legend"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["form-widget",!0]},{tokenType:"attrStart",args:["inline"]},{tokenType:"special",args:["properties.inline"]},{tokenType:"attrEnd",args:["inline"]},{tokenType:"attrStart",args:["{form-object}"]},{tokenType:"attrValue",args:["subFormObject"]},{tokenType:"attrEnd",args:["{form-object}"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["saveField"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"attrStart",args:["{fields}"]},{tokenType:"attrValue",args:["formFields"]},{tokenType:"attrEnd",args:["{fields}"]},{tokenType:"attrStart",args:["show-buttons"]},{tokenType:"attrValue",args:["false"]},{tokenType:"attrEnd",args:["show-buttons"]},{tokenType:"end",args:["form-widget",!0]},{tokenType:"chars",args:["\r\n  "]},{tokenType:"close",args:["fieldset"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,s,n){var o={module:e};return s instanceof a.Options||(s=new a.Options(s||{})),r(t,s.add(o),n)}});
/*spectre-canjs@0.28.4#form-widget/field-components/subform-field/subform-field*/
define("spectre-canjs@0.28.4#form-widget/field-components/subform-field/subform-field",["exports","can-component","can-define/map/map","can-event","./subform-field.stache!","../../../../util/field","can-util/js/assign/assign","can-util/js/dev/dev","./subform-field.less"],function(e,t,i,o,s,r,n,l){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var f=d(t),u=d(i),a=d(o),p=d(s),c=d(n),b=d(l),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=e.ViewModel=u.default.extend("SubformField",{properties:{Value:u.default,set:function(e){var t=e.ObjectTemplate,i=void 0;return t?i=new t:(b.default.warn("subform-field needs an ObjectTemplate defined in its field properties"),i=new u.default),this.subFormObject=i,e}},value:{set:function(e){return"object"===(void 0===e?"undefined":m(e))?this.subFormObject.set(e.serialize?e.serialize():e):b.default.warn("typeof subform value needs to be object. Type is "+(void 0===e?"undefined":m(e)),e),e}},errors:"*",subFormObject:{Value:u.default},formFields:{get:function(){return this.properties.fields&&this.properties.fields.length?(0,r.parseFieldArray)(this.properties.fields):(0,r.mapToFields)(this.properties.ObjectTemplate)}},saveField:function(e,t,i,o){this.subFormObject.set(o.dirty.serialize()),this.dispatch("fieldchange",[{value:this.subFormObject.serialize(),name:this.properties.name}])}});(0,c.default)(y.prototype,a.default),e.default=f.default.extend({tag:"subform-field",view:p.default,ViewModel:y})});
/*spectre-canjs@0.28.4#form-widget/field-components/date-field/constants*/
define("spectre-canjs@0.28.4#form-widget/field-components/date-field/constants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var l=(e.MONTH_OPTIONS=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],e.YEAR_OPTIONS=[]),a=(new Date).getFullYear();a>=1900;a--)l.push({label:a,value:a})});
/*spectre-canjs@0.28.4#form-widget/field-components/date-field/date-field.stache!steal-stache@3.0.7#steal-stache*/
define("spectre-canjs@0.28.4#form-widget/field-components/date-field/date-field.stache!steal-stache@3.0.7#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.0.7#can-view-import","can-stache-bindings@3.0.19#can-stache-bindings"],function(e,t,a){var r=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"attrValue",args:["has-error"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["label",!1]},{tokenType:"special",args:["#if properties.inline"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["hide"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"special",args:["/if"]},{tokenType:"attrStart",args:["for"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["input-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["select-field",!0]},{tokenType:"attrStart",args:["{(value)}"]},{tokenType:"attrValue",args:["day"]},{tokenType:"attrEnd",args:["{(value)}"]},{tokenType:"attrStart",args:["{properties}"]},{tokenType:"attrValue",args:["dayProperties"]},{tokenType:"attrEnd",args:["{properties}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["float-left"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["onChange"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"end",args:["select-field",!0]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["select-field",!0]},{tokenType:"attrStart",args:["{(value)}"]},{tokenType:"attrValue",args:["month"]},{tokenType:"attrEnd",args:["{(value)}"]},{tokenType:"attrStart",args:["{properties}"]},{tokenType:"attrValue",args:["monthProperties"]},{tokenType:"attrEnd",args:["{properties}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["float-left"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["onChange"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"end",args:["select-field",!0]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["select-field",!0]},{tokenType:"attrStart",args:["{(value)}"]},{tokenType:"attrValue",args:["year"]},{tokenType:"attrEnd",args:["{(value)}"]},{tokenType:"attrStart",args:["{properties}"]},{tokenType:"attrValue",args:["yearProperties"]},{tokenType:"attrEnd",args:["{properties}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["float-left"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["onChange"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"end",args:["select-field",!0]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["clear"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"start",args:["span",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-input-hint"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!1]},{tokenType:"special",args:["errors[properties.name]"]},{tokenType:"close",args:["span"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,s,n){var o={module:e};return s instanceof a.Options||(s=new a.Options(s||{})),r(t,s.add(o),n)}});
/*spectre-canjs@0.28.4#form-widget/field-components/date-field/date-field*/
define("spectre-canjs@0.28.4#form-widget/field-components/date-field/date-field",["exports","can-define/map/map","can-component","can-event","object-assign","./constants","./date-field.stache!","../select-field/select-field","./date-field.less!"],function(e,t,n,a,i,o,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var d=r(t),l=r(n),u=r(a),f=r(i),h=r(s),p=e.ViewModel=d.default.extend("DateField",{properties:{Value:d.default},errors:"*",value:{type:"date",set:function(e){return this.isValidDate(e)?this.set({day:e.getUTCDate(),month:e.getUTCMonth(),year:e.getUTCFullYear()}):e=new Date,e},get:function(e){if(void 0===this.month||void 0===this.day||!this.year)return e;var t=this.month+1+"/"+this.day+"/"+this.year;return this.isValidDate(t)?new Date(t):new Date}},day:{type:"number"},month:{type:"number"},year:{type:"number"},dayProperties:{get:function(){for(var e=[],t=1;t<=this.getDaysInMonth(this.value);t++)e.push({value:t,label:t});return{inline:!0,options:e,name:"day"}}},monthProperties:{value:{inline:!0,options:o.MONTH_OPTIONS,name:"month"}},yearProperties:{value:{inline:!0,options:o.YEAR_OPTIONS,name:"year"}},getDaysInMonth:function(e){return e||(e=new Date),new Date(e.getYear(),e.getMonth()+1,0).getDate()},onChange:function(){this.dispatch("fieldchange",[{value:this.value,name:this.properties.name}])},isValidDate:function(e){return!!e&&(e=new Date(e),!isNaN(e.getTime()))}});(0,f.default)(p.prototype,u.default),e.default=l.default.extend({tag:"date-field",view:h.default,ViewModel:p})});
/*can-fixture@1.0.13#helpers/getid*/
define("can-fixture@1.0.13#helpers/getid",function(e,t,a){a.exports=function(e,t){var a=e.data.id;return void 0===a&&"number"==typeof e.data&&(a=e.data),void 0===a&&e.url.replace(/\/(\d+)(\/|$|\.)/g,function(e,t){a=t}),void 0===a&&(a=e.url.replace(/\/(\w+)(\/|$|\.)/g,function(e,t){"update"!==t&&(a=t)})),void 0===a&&(a=Math.round(1e3*Math.random())),a}});
/*can-fixture@1.0.13#helpers/legacyStore*/
define("can-fixture@1.0.13#helpers/legacyStore",function(t,e,a){var n=t("./getid"),r=t("can-set"),i=t("can-util/js/is-array-like/is-array-like"),o=t("can-util/js/each/each"),f=t("can-util/js/assign/assign");a.exports=function(t,e,a){var d,s,u=0,c=function(t){for(var e=0;e<d.length;e++)if(t==d[e].id)return d[e]},l={};if(i(t)&&"string"==typeof t[0]?(t,t=e,e=a,a=arguments[3]):"string"==typeof t&&([t+"s",t],t=e,e=a,a=arguments[3]),"number"==typeof t)d=[],s=function(){d=[];for(var a=0;a<t;a++){var n=e(a,d);n.id||(n.id=a),u=Math.max(n.id+1,u+1)||d.length,d.push(n)}};else{a=e;var p=t;s=function(){d=p.slice(0)}}return f(l,{getListData:function(t){t=t||{};var e=d.slice(0);t.data=t.data||{},o((t.data.order||[]).slice(0).reverse(),function(t){var a=t.split(" ");e=e.sort(function(t,e){return"ASC"!==a[1].toUpperCase()?t[a[0]]<e[a[0]]?1:t[a[0]]===e[a[0]]?0:-1:t[a[0]]<e[a[0]]?-1:t[a[0]]===e[a[0]]?0:1})}),o((t.data.group||[]).slice(0).reverse(),function(t){var a=t.split(" ");e=e.sort(function(t,e){return t[a[0]]>e[a[0]]})});var n=parseInt(t.data.offset,10)||0,i=parseInt(t.data.limit,10)||d.length-n,f=0;for(var s in t.data)if(f=0,void 0!==t.data[s]&&(-1!==s.indexOf("Id")||-1!==s.indexOf("_id")))for(;f<e.length;)t.data[s]!=e[f][s]?e.splice(f,1):f++;if("function"==typeof a)for(f=0;f<e.length;)a(e[f],t)?f++:e.splice(f,1);else if("object"==typeof a)for(f=0;f<e.length;){var u=r.subset(e[f],t.data,a);u?f++:e.splice(f,1)}var c={count:e.length,data:e.slice(n,n+i)};return o(["limit","offset"],function(e){e in t.data&&(c[e]=t.data[e])}),c},getData:function(t,e){var a=c(n(t));if(void 0===a)return e(404,"Requested resource not found");e(a)},updateData:function(t,e){var a=n(t),r=c(a);if(void 0===r)return e(404,"Requested resource not found");f(r,t.data),e({id:a},{location:t.url||"/"+n(t)})},destroyData:function(t,e){var a=n(t);if(void 0===c(a))return e(404,"Requested resource not found");for(var r=0;r<d.length;r++)if(d[r].id==a){d.splice(r,1);break}return{}},createData:function(t,a){var n="function"==typeof e?e(d.length,d):{};f(n,t.data),n.id||(n.id=u++),d.push(n),a({id:n.id},{location:t.url+"/"+n.id})}}),s(),f({findAll:l.getListData,findOne:l.getData,create:l.createData,update:l.updateData,destroy:l.destroyData,getId:n,find:function(t){return c(n(t))},reset:s},l)}});
/*can-connect@1.3.11#helpers/clone-data*/
define("can-connect@1.3.11#helpers/clone-data",function(n,e,a){var s=n("can-util/js/is-array/is-array"),i=n("can-util/js/deep-assign/deep-assign");a.exports=function(n){return s(n)?n.slice(0):i({},n)}});
/*can-connect@1.3.11#data/memory-cache/memory-cache*/
define("can-connect@1.3.11#data/memory-cache/memory-cache",function(t,e,a){var s=t("can-connect/helpers/get-items"),n=t("can-connect"),i=t("can-connect/helpers/sorted-set-json"),r=t("can-set"),c=t("can-connect/helpers/overwrite"),o=t("can-connect/helpers/set-add"),u=t("can-connect/helpers/get-index-by-id"),h=t("can-util/js/assign/assign"),f=t("can-connect/helpers/clone-data");a.exports=n.behavior("data/memory-cache",function(t){return{_sets:{},getSetData:function(){return this._sets},__getListData:function(t){var e=this.getSetData(),a=e[i(t)];if(a)return a.items},_instances:{},getInstance:function(t){return this._instances[t]},removeSet:function(t,e){delete this.getSetData()[t],!0!==e&&this.updateSets()},updateSets:function(){},updateInstance:function(t){var e=this.id(t);return e in this._instances?c(this._instances[e],t,this.idProp):this._instances[e]=t,this._instances[e]},updateSet:function(t,e,a){var s=a?i(a):t.setKey;if(a&&s!==t.setKey){var n=this.getSetData(),r=t.setKey;n[s]=t,t.setKey=s,t.set=h({},a),this.removeSet(r)}t.items=e;var c=this;e.forEach(function(t){c.updateInstance(t)})},addSet:function(t,e){var a=s(e),n=this.getSetData(),r=i(t);n[r]={setKey:r,items:a,set:h({},t)};var c=this;a.forEach(function(t){c.updateInstance(t)}),this.updateSets()},_eachSet:function(t){var e=this.getSetData(),a=this;for(var s in e){var n=e[s],i=function(e,s){return t.call(a,e,s,function(){return e.items})}(n,s);if(void 0!==i)return i}},_getSets:function(){var t=[],e=this.getSetData();for(var a in e)t.push(e[a].set);return t},getSets:function(){return Promise.resolve(this._getSets())},clear:function(){this._instances={},this._sets={}},getListData:function(t){t=t||{};var e=this.getListDataSync(t);return e?Promise.resolve(e):Promise.reject({message:"no data",error:404})},getListDataSync:function(t){for(var e=this._getSets(),a=0;a<e.length;a++){var s=e[a];if(r.subset(t,s,this.algebra)){var n=this.__getListData(s);return{data:r.getSubset(t,s,n,this.algebra),count:n.length}}}},_getListData:function(t){return this.getListDataSync(t)},updateListData:function(t,e){e=e||{};var a=f(t),n=s(a),i=this.getSetData(),c=this;for(var o in i){var u=i[o],d=r.union(u.set,e,this.algebra);if(d){var g=h({},u.set);return this.getListData(g).then(function(t){c.updateSet(u,r.getUnion(g,e,s(t),n,c.algebra),d)})}}return this.addSet(e,a),Promise.resolve()},getData:function(t){var e=this.id(t),a=this.getInstance(e);return a?Promise.resolve(a):Promise.reject({message:"no data",error:404})},createData:function(t){var e=this,a=this.updateInstance(t);return this._eachSet(function(t,s,n){r.has(t.set,a,this.algebra)&&e.updateSet(t,o(e,t.set,n(),a,e.algebra),t.set)}),Promise.resolve(h({},a))},updateData:function(t){var e=this,a=this.updateInstance(t);return this._eachSet(function(t,s,n){var i=n(),c=u(e,a,i);r.subset(a,t.set,this.algebra)?-1===c?e.updateSet(t,o(e,t.set,n(),a,e.algebra)):(i.splice(c,1,a),e.updateSet(t,i)):-1!==c&&(i.splice(c,1),e.updateSet(t,i))}),Promise.resolve(h({},a))},destroyData:function(t){var e=this;this._eachSet(function(a,s,n){var i=n(),r=u(e,t,i);-1!==r&&(i.splice(r,1),e.updateSet(a,i))});var a=this.id(t);return delete this._instances[a],Promise.resolve(h({},t))}}})});
/*can-fixture@1.0.13#store*/
define("can-fixture@1.0.13#store",function(t,a,n){var e=t("can-set"),i=t("can-connect"),r=t("./helpers/legacyStore"),s=t("can-util/js/each/each"),c=t("can-util/js/assign/assign"),o=t("can-util/js/is-array-like/is-array-like"),u=t("can-connect/data/memory-cache/memory-cache"),h=function(t){for(var a in t)return a},d=function(t){return function(a,n){this.connection[t](a.data).then(function(t){n(t)},function(t){n(403,t)})}},f=function(t,a){return function(){var n=[],e=0;return s(t,function(t){n.push(JSON.parse(JSON.stringify(t))),e=Math.max(t[a]+1,e+1)||n.length}),{maxId:e,items:n}}},p=function(t,a,n){this.connection=t,this.makeItems=a,this.idProp=n,this.reset();for(var e in p.prototype)this[e]=this[e].bind(this)};c(p.prototype,{getListData:d("getListData"),getData:d("getData"),createData:function(t,a){var n=this.idProp;t.data[n]=++this.maxId,this.connection.createData(t.data).then(function(e){var i={};i[n]=t.data[n],a(i)},function(t){a(403,t)})},updateData:d("updateData"),destroyData:d("destroyData"),reset:function(t){t&&(this.makeItems=f(t,this.idProp));var a=this.makeItems();this.maxId=a.maxId,this.connection.addSet({},{data:a.items})},get:function(t){var a=this.connection.id(t);return this.connection.getInstance(a)},getList:function(t){return this.connection._getListData(t)}}),s({findAll:"getListData",findOne:"getData",create:"createData",update:"updateData",destroy:"destroyData"},function(t,a){p.prototype[a]=function(){return this[t].apply(this,arguments)}}),p.make=function(t,a,n){var s=!1;if((t instanceof e.Algebra||a instanceof e.Algebra||n instanceof e.Algebra)&&(s=!0),!s)return r.apply(this,arguments);var c,d;"number"==typeof t?(d=h(n.clauses.id||{})||"id",c=function(){for(var n=[],e=0,i=0;i<t;i++){var r=a(i,n);r[d]||(r[d]=i),e=Math.max(r[d]+1,e+1)||n.length,n.push(r)}return{maxId:e,items:n}}):o(t)&&(n=a,d=h(n.clauses.id||{})||"id",c=f(t,d));var m=i([u],{algebra:n,idProp:d});return new p(m,c,d)},n.exports=p});
/*can-fixture@1.0.13#core*/
define("can-fixture@1.0.13#core",function(t,e,r){var n=t("can-set"),a=t("can-util/js/string/string").sub,u=t("can-util/js/each/each"),i=t("can-util/js/assign/assign"),o=t("can-util/js/is-empty-object/is-empty-object"),s=t("can-util/js/log/log");t("./store");var f=[];e.fixtures=f,e.add=function(t,r){if(r&&(r.getData||r.getListData)){var n=t,a=r,i=a.idProp,o=new RegExp("\\/\\{"+i+"\\}.*"),s=o.test(n),l=s?n.replace(o,""):n,c=s?n:n.trim()+"/{"+i+"}";r=void 0,t={},t["GET "+c]=a.getData,t["DELETE "+c]=a.destroyData,t["PUT "+c]=a.updateData,t["GET "+l]=a.getListData,t["POST "+l]=a.createData}if(void 0!==r){if("string"==typeof t){var d=t.match(/(GET|POST|PUT|DELETE|PATCH) (.+)/i);t=d?{url:d[2],type:d[1]}:{url:t}}var p=e.index(t,!0);if(p>-1&&f.splice(p,1),null==r)return;if("object"==typeof r){var v=r;r=function(){return v}}t.fixture=r,f.unshift(t)}else u(t,function(t,r){e.add(r,t)})};var l=e.add;l.on=!0,l.delay=10,e.callDynamicFixture=function(t,r,n){t.data=r.data;var a=JSON.stringify(t.data);s.log(t.type.toUpperCase()+" "+t.url+" "+a.substr(0,50)+" -> handler(req,res)");var u=function(){var r=e.extractResponse.apply(t,arguments);return n.apply(this,r)},i=function(){var e=r.fixture(t,u,t.headers,r);void 0!==e&&u(200,e)};return t.async?setTimeout(i,l.delay):(i(),null)},e.index=function(t,r){for(var n=0;n<f.length;n++)if(e.matches(t,f[n],r))return n;return-1},e.get=function(t){if(l.on){var r=e.index(t,!0);-1===r&&(r=e.index(t,!1));var n=r>=0?i({},f[r]):void 0;if(n){var u=n.fixture,o=e.dataFromUrl(n.url,t.url);if("string"==typeof n.fixture)o&&(u=a(u,o)),n.url=u,n.data=null,n.type="GET",n.error||(n.error=function(t,e,r){throw"fixtures.js Error "+e+" "+r});else{var s=i({},t.data||{});n.data=i(s,o)}}return n}},e.matches=function(t,r,a){return a?n.equal(t,r,{fixture:function(){return!0}}):n.subset(t,r,e.defaultCompare)};var c=function(t,e){return!(null!=t||!o(e))||(!(null!=e||!o(t))||n.equal(t,e))},d=function(t,e){return!(null!=t||!o(e))||(!(null!=e||!o(t))||n.subset(t,e))};e.defaultCompare={url:function(t,r){return!!e.dataFromUrl(r,t)},fixture:function(){return!0},xhr:function(){return!0},type:function(t,e){return e&&t?t.toLowerCase()===e.toLowerCase():e===t},method:function(t,e){return e&&t?t.toLowerCase()===e.toLowerCase():e===t},helpers:function(){return!0},headers:c,data:d};e.dataFromUrl=function(t,e){if(!t)return{};var r=[],n=t.replace(".","\\.").replace("?","\\?"),a=new RegExp(n.replace(/\{([^\}]+)\}/g,function(t,e){return r.push(e),"([^/]+)"})+"$").exec(e),i={};return a?(a.shift(),u(r,function(t){i[t]=a.shift()}),i):null},e.extractResponse=function(t,e,r,n){return"number"!=typeof t&&(r=e,e=t,t=200),"string"==typeof r&&(n=r,r={}),[t,e,r,n]}});
/*can-fixture@1.0.13#helpers/deparam*/
define("can-fixture@1.0.13#helpers/deparam",function(e,t,n){var r=e("can-util/js/each/each"),a=/^\d+$/,i=/([^?#]*)(#.*)?$/,c=function(e){return decodeURIComponent(e.replace(/\+/g," "))};n.exports=function(e){var t,n,o={};return e&&i.test(e)&&(t=e.split("&"),r(t,function(e){var t=e.split("="),r=c(t.shift()),i=c(t.join("=")),p=o;if(r){t=r.match(/([^\[\]]+)|(\[\])/g);for(var f=0,s=t.length-1;f<s;f++)p[t[f]]||(p[t[f]]=a.test(t[f+1])||"[]"===t[f+1]?[]:{}),p=p[t[f]];n=t.pop(),"[]"===n?p.push(i):p[n]=i}})),o}});
/*can-fixture@1.0.13#xhr*/
define("can-fixture@1.0.13#xhr",function(e,t,s){!function(t){function s(e,t){for(var s,n=e.__events[t]||[],r=0,o=n.length;r<o;r++)s=n[r],s.call(e)}var n=e("./core"),r=e("./helpers/deparam"),o=e("can-util/js/assign/assign"),a=e("can-util/js/each/each"),i=e("can-util/js/log/log"),u=XMLHttpRequest,d=void 0!==t?t:window,h=["type","url","async","response","responseText","responseType","responseXML","responseURL","status","statusText","readyState"],p=["abort","error","load","loadend","loadstart","progress","readystatechange"];!function(){var e=new u;for(var t in e)0===t.indexOf("on")?-1===p.indexOf(t.substr(2))&&p.push(t.substr(2)):-1===h.indexOf(t)&&"function"!=typeof e[t]&&h.push(t)}(),d.XMLHttpRequest=function(){var e=this,t=new u;this._xhr=t,this._requestHeaders={},this.__events={},a(p,function(n){t["on"+n]=function(){if(s(e,n),e["on"+n])return e["on"+n].apply(e,arguments)}}),this.onload=null},d.XMLHttpRequest._XHR=u,o(XMLHttpRequest.prototype,{setRequestHeader:function(e,t){this._requestHeaders[e]=t},open:function(e,t,s){this.type=e,this.url=t,this.async=!1!==s},getAllResponseHeaders:function(){return this._xhr.getAllResponseHeaders.apply(this._xhr,arguments)},addEventListener:function(e,t){(this.__events[e]=this.__events[e]||[]).push(t)},removeEventListener:function(e,t){var s=this.__events[e]=this.__events[e]||[],n=s.indexOf(t);n>=0&&s.splice(n,1)},setDisableHeaderCheck:function(e){this._disableHeaderCheck=!!e},getResponseHeader:function(e){return this._xhr.getResponseHeader(e)},abort:function(){var e=this._xhr;return void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),e.open(this.type,this.url,!1!==this.async),e.send()),e.abort()},send:function(e){var t=this.type.toLowerCase()||"get",u={url:this.url,data:e,headers:this._requestHeaders,type:t,method:t,async:this.async,xhr:this};if((!u.data&&"get"===u.type||"delete"===u.type)&&(u.data=r(u.url.split("?")[1]),u.url=u.url.split("?")[0]),"string"==typeof u.data)try{u.data=JSON.parse(u.data)}catch(e){u.data=r(u.data)}var d=n.get(u),h=this;if(d&&"function"==typeof d.fixture)return void(this.timeoutId=n.callDynamicFixture(u,d,function(e,t,n,r){t="string"==typeof t?t:JSON.stringify(t),h._xhr={open:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},o(h,{readyState:4,status:e}),e>=200&&e<300||304===e?o(h,{statusText:r||"OK",responseText:t}):o(h,{statusText:r||"error",responseText:t}),h.getAllResponseHeaders=function(){var e=[];return a(n||{},function(t,s){Array.prototype.push.apply(e,[s,": ",t,"\r\n"])}),e.join("")},h.onreadystatechange&&h.onreadystatechange({target:h}),s(h,"progress"),h.onprogress&&h.onprogress(),s(h,"load"),h.onload&&h.onload(),s(h,"loadend"),h.onloadend&&h.onloadend()}));var p=function(){return h._xhr.open(h._xhr.type,h._xhr.url,h._xhr.async),h._requestHeaders&&Object.keys(h._requestHeaders).forEach(function(e){h._xhr.setRequestHeader(e,h._requestHeaders[e])}),h._xhr.send(e)};return d&&"number"==typeof d.fixture?(i.log(u.url+" -> delay "+d.fixture+"ms"),void(this.timeoutId=setTimeout(p,d.fixture))):(d&&(i.log(u.url+" -> "+d.url),o(h,d)),p())}}),a(h,function(e){Object.defineProperty(XMLHttpRequest.prototype,e,{get:function(){return this._xhr[e]},set:function(t){try{this._xhr[e]=t}catch(e){}}})})}(function(){return this}())});
/*can-fixture@1.0.13#fixture*/
define("can-fixture@1.0.13#fixture",function(e,r,t){var n=e("./core"),o=n.add,s=e("./store");e("./xhr");var a=e("can-util/js/assign/assign"),u=e("can-namespace"),i=function(){};a(o,{rand:function e(r,t,n){if("number"==typeof r)return"number"==typeof t?r+Math.floor(Math.random()*(t-r+1)):Math.floor(Math.random()*(r+1));var o=r.slice(0);void 0===t?(t=1,n=o.length):void 0===n&&(n=t);for(var s=[],a=t+Math.round(e(n-t)),u=0;u<a;u++){var i=e(o.length-1),f=o.splice(i,1)[0];s.push(f)}return s},xhr:function(e){return a({},{abort:i,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:i,overrideMimeType:i,readyState:4,responseText:"",responseXML:null,send:i,setRequestHeader:i,status:200,statusText:"OK"},e)},store:s.make,fixtures:n.fixtures}),"undefined"!=typeof window&&"function"!=typeof e.resolve&&(window.fixture=o),t.exports=u.fixture=o});
/*spectre-canjs@0.28.4#form-widget/demo/form*/
define("spectre-canjs@0.28.4#form-widget/demo/form",["can-fixture","can-stache","can-define/map/map","spectre-canjs/form-widget/form-widget","spectre-canjs/form-widget/field-components/text-field/","spectre-canjs/form-widget/field-components/select-field/","spectre-canjs/form-widget/field-components/file-field/","spectre-canjs/form-widget/field-components/json-field/","spectre-canjs/form-widget/field-components/subform-field/","spectre-canjs/form-widget/field-components/date-field/"],function(e,n,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=l(e),a=l(n),o=l(t);i.default.delay=2e3,(0,i.default)({method:"POST",url:"/upload"},function(e,n,t,l){return{uploads:["fake_upload_filename"]}}),(0,i.default)({method:"DELETE",url:"/upload"},function(){return{result:"Success"}});var d=o.default.extend({json_field_1:"string",json_field_2:{validate:function(e){return 2!=e.value?"The value must be 2":void 0},value:2,fieldType:"select",options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},json_field_3:{type:"number",validate:function(e){return e.value<10?"Please enter a value greater than 10":void 0}}}),r=o.default.extend({field1:{type:"string",value:"test-value"},field2:"string",field3:"number",field4:"date",field5:"string",field6:d}),s=[{name:"field1",validate:function(e){return console.log(e),e.value.length<50&&"This field must contain at least 50 characters"}},{value:"another value",name:"field2",alias:"A basic textarea field",type:"text",textarea:!0,placeholder:'Enter the text: "hello"',validate:function(e){return"hello"!==e.value&&'This field must contain the text, "hello"'}},{value:1,name:"field3",alias:"A select dropdown",fieldType:"select",options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},{name:"field4",alias:"A date field",fieldType:"date",value:new Date("2010-10-11")},{name:"field5",alias:"A file field",multiple:!0,fieldType:"file",url:"/upload"},{name:"field6",alias:"A Subform Field",fieldType:"subform",type:"string",value:"",ObjectTemplate:d}],f=a.default.from("demo-html"),u=new o.default({formObject:new r,fields:s,onChange:function(){console.log(arguments)},onSubmit:function(){alert("Form submitted! See the console for details"),console.log("submitted data: ",this.formObject.serialize())},onCancel:function(){console.log("Form canceled!")},stringify:function(){return JSON.stringify(this.formObject.serialize())}}),c=f(u);document.body.appendChild(c),window.DEMO_SOURCE="\nimport 'spectre-canjs/form-widget/form-widget';\nimport 'spectre-canjs/form-widget/field-components/text-field/';\nimport 'spectre-canjs/form-widget/field-components/select-field/';\nimport 'spectre-canjs/form-widget/field-components/file-field/';\nimport 'spectre-canjs/form-widget/field-components/json-field/';\nimport 'spectre-canjs/form-widget/field-components/subform-field/';\nimport 'spectre-canjs/form-widget/field-components/date-field/';\nimport fixture from 'can-fixture';\nimport stache from 'can-stache';\nimport DefineMap from 'can-define/map/map';\n\n//this example uses fixtures to catch requests and simulate\n//file upload experience\nfixture.delay = 2000;\nfixture({\n    method: 'POST',\n    url: '/upload'\n}, function(request, response, headers, ajaxSettings) {\n    return {\n        uploads: ['fake_upload_filename']\n    };\n});\n\nfixture({\n    method: 'DELETE',\n    url: '/upload'\n}, function() {\n    return {\n        result: 'Success'\n    };\n});\n\n\nconst ChildObject = DefineMap.extend({\n    json_field_1: 'string',\n    json_field_2: {\n        validate(props){\n          return props.value != 2 ? 'The value must be 2' : undefined;\n        },\n        value: 2,\n        fieldType: 'select',\n        options: [{\n            value: 1,\n            label: 'Option 1'\n        }, {\n            value: 2,\n            label: 'Option 2'\n        }]\n    },\n    json_field_3: {\n        type: 'number',\n        validate(props) {\n            return props.value < 10 ? 'Please enter a value greater than 10' : undefined;\n        }\n    }\n})\n\n\nconst Template = DefineMap.extend({\n    field1: { type: 'string', value: 'test-value' },\n    field2: 'string',\n    field3: 'number',\n    field4: 'date',\n    field5: 'string',\n    field6: ChildObject\n});\n\nconst fields = [{\n        name: 'field1',\n        validate(props) {\n            console.log(props);\n            return props.value.length < 50 ? 'This field must contain at least 50 characters' : false;\n        }\n    },\n    {\n        value: 'another value',\n        name: 'field2',\n        alias: 'A basic textarea field',\n        type: 'text',\n        textarea: true,\n        placeholder: 'Enter the text: \"hello\"',\n        validate(props) {\n            if (props.value !== 'hello') {\n                return 'This field must contain the text, \"hello\"';\n            }\n            return false;\n        }\n    }, {\n        value: 1,\n        name: 'field3',\n        alias: 'A select dropdown',\n        fieldType: 'select',\n        options: [{\n            value: 1,\n            label: 'Option 1'\n        }, {\n            value: 2,\n            label: 'Option 2'\n        }]\n    }, {\n        name: 'field4',\n        alias: 'A date field',\n        fieldType: 'date',\n        value: new Date('2010-10-11')\n    }, {\n        name: 'field5',\n        alias: 'A file field',\n        multiple: true,\n        fieldType: 'file',\n        url: '/upload'\n    }, {\n        name: 'field6',\n        alias: 'A Subform Field',\n        fieldType: 'subform',\n        type: 'string',\n        value: '',\n        ObjectTemplate: ChildObject\n    }\n]\n\nconst render = stache.from('demo-html');\n\nconst vm = new DefineMap({\n    formObject: new Template(),\n    fields: fields,\n    onChange() {\n        console.log(arguments);\n    },\n    onSubmit() {\n        alert('Form submitted! See the console for details');\n        console.log('submitted data: ', this.formObject.serialize())\n    },\n    onCancel() {\n        console.log('Form canceled!');\n    },\n    stringify() {\n        return JSON.stringify(this.formObject.serialize());\n    }\n});\n\nconst frag = render(vm);\n\ndocument.body.appendChild(frag);\n"});
//# sourceMappingURL=form.js.map