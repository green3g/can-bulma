define("spectre-canjs@0.30.0#form-widget/template.stache!steal-stache@3.1.0#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.1.0#can-view-import","can-stache-bindings@3.4.0#can-stache-bindings"],function(e,t,r){var n=t([{tokenType:"start",args:["form",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form"]},{tokenType:"special",args:["#inline"]},{tokenType:"attrValue",args:["-horizontal form-inline"]},{tokenType:"special",args:["/inline"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["($submit)"]},{tokenType:"attrValue",args:["submitForm"]},{tokenType:"attrEnd",args:["($submit)"]},{tokenType:"end",args:["form",!1]},{tokenType:"special",args:["#each fields"]},{tokenType:"chars",args:["\r\n      "]},{tokenType:"special",args:[">formTemplate"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\r\n\r\n    "]},{tokenType:"start",args:["br",!0]},{tokenType:"end",args:["br",!0]},{tokenType:"special",args:["#if showButtons"]},{tokenType:"chars",args:["\r\n      "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["btn-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["role"]},{tokenType:"attrValue",args:["group"]},{tokenType:"attrEnd",args:["role"]},{tokenType:"attrStart",args:["aria-label"]},{tokenType:"attrValue",args:["Form Buttons"]},{tokenType:"attrEnd",args:["aria-label"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["button",!1]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["button"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"special",args:["#isSaving"]},{tokenType:"attrValue",args:["loading"]},{tokenType:"special",args:["/isSaving"]},{tokenType:"attrValue",args:[" btn btn-primary"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["($click)"]},{tokenType:"attrValue",args:["submitForm"]},{tokenType:"attrEnd",args:["($click)"]},{tokenType:"end",args:["button",!1]},{tokenType:"chars",args:["Submit"]},{tokenType:"close",args:["button"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["button",!1]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["button"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["btn"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["($click)"]},{tokenType:"attrValue",args:["cancelForm"]},{tokenType:"attrEnd",args:["($click)"]},{tokenType:"end",args:["button",!1]},{tokenType:"chars",args:["Cancel"]},{tokenType:"close",args:["button"]},{tokenType:"chars",args:["\r\n      "]},{tokenType:"close",args:["div"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["form"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,a,s){var o={module:e};return a instanceof r.Options||(a=new r.Options(a||{})),n(t,a.add(o),s)}}),define("spectre-canjs@0.30.0#form-widget/ViewModel",["exports","can-define/map/map","../util/field/base/FieldIteratorMap"],function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(t),s=n(r),o=s.default.extend("FormWidget",{excludeFieldKey:{value:"edit"},object:{get:function(){return this.formObject}},showButtons:{type:"boolean",value:!0},inline:{type:"boolean",value:!1},connection:{value:null},objectId:{type:"number",set:function(e){var t=this.fetchObject(this.connection,e);return this.promise=t,e}},promise:{value:null},formObject:a.default,dirtyObject:{Value:a.default},validationErrors:{get:function(e){if(e)return e;var t={};return this.fields.forEach(function(e){t[e.name]="*"}),new(a.default.extend({seal:!1},t))}},isValid:{get:function(){for(var e=!0,t=0;t<this.fields.length;t++){var r=this.fields[t],n=r.name,a=this.dirtyObject[n]||this.formObject[n];this.validationErrors[n]?e=!1:(this.validationErrors[n]=this.getValidationError(r,a))&&(e=!1)}return e}},isSaving:{value:!1,type:"boolean"},fetchObject:function(e,t){var r=this;if(!e||!t)return null;var n=e.get({id:t});return n.then(function(e){r.formObject=e}),n},submitForm:function(e,t,r){if(r&&r.preventDefault(),!this.isValid)return this.dispatch("submit-fail",[this.formObject,this.validationErrors]),!1;this.showSaving&&(this.isSaving=!0);var n=this.formObject;return n.set(this.dirtyObject.serialize()),this.dispatch("submit",[n]),!1},setField:function(e,t,r,n){var a=n.value;this.dirtyObject.set(e.name,a),(this.validationErrors[e.name]=this.getValidationError(e,a))||this.formObject[e.name]!==a&&this.dispatch("fieldchange",[{name:e.name,value:a,dirty:this.dirtyObject,current:this.formObject}])},getValidationError:function(e,t){return e.validate?e.validate({name:e.name,value:t,dirty:this.dirtyObject,current:this.formObject}):null},cancelForm:function(){this.dispatch("cancel")}});e.default=o}),define("spectre-canjs@0.30.0#form-widget/form-widget",["exports","can-component","./template.stache!","./ViewModel","./widget.less!"],function(e,t,r,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(t),o=a(r),i=a(n);e.default=s.default.extend({tag:"form-widget",ViewModel:i.default,view:o.default})}),define("spectre-canjs@0.30.0#form-widget/field-components/text-field/text-field.stache!steal-stache@3.1.0#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.1.0#can-view-import","can-stache-bindings@3.4.0#can-stache-bindings"],function(e,t,r){var n=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"attrValue",args:["has-error"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"special",args:["#if properties.inline"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"special",args:["#if properties.textarea"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["textarea",!1]},{tokenType:"attrStart",args:["($keyup)"]},{tokenType:"attrValue",args:["beforeSubmit(%element, %event)"]},{tokenType:"attrEnd",args:["($keyup)"]},{tokenType:"special",args:["#if properties.placeholder"]},{tokenType:"attrStart",args:["placeholder"]},{tokenType:"special",args:["properties.placeholder"]},{tokenType:"attrEnd",args:["placeholder"]},{tokenType:"special",args:["/if"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control form-input"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["name"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["name"]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["value"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"end",args:["textarea",!1]},{tokenType:"close",args:["textarea"]},{tokenType:"chars",args:["        "]},{tokenType:"special",args:["else"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["input",!0]},{tokenType:"attrStart",args:["($keyup)"]},{tokenType:"attrValue",args:["beforeSubmit(%element, %event)"]},{tokenType:"attrEnd",args:["($keyup)"]},{tokenType:"special",args:["#if properties.placeholder"]},{tokenType:"attrStart",args:["placeholder"]},{tokenType:"special",args:["properties.placeholder"]},{tokenType:"attrEnd",args:["placeholder"]},{tokenType:"special",args:["/if"]},{tokenType:"attrStart",args:["type"]},{tokenType:"special",args:["#if properties.textType"]},{tokenType:"special",args:["properties.textType"]},{tokenType:"special",args:["else"]},{tokenType:"attrValue",args:["text"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control form-input"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["name"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["name"]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["value"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"end",args:["input",!0]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"special",args:["else"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-label"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["for"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["label"]},{tokenType:"special",args:["#if properties.textarea"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["textarea",!1]},{tokenType:"attrStart",args:["($keyup)"]},{tokenType:"attrValue",args:["beforeSubmit(%element, %event)"]},{tokenType:"attrEnd",args:["($keyup)"]},{tokenType:"special",args:["#if properties.placeholder"]},{tokenType:"attrStart",args:["placeholder"]},{tokenType:"special",args:["properties.placeholder"]},{tokenType:"attrEnd",args:["placeholder"]},{tokenType:"special",args:["/if"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control form-input"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["name"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["name"]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["value"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"end",args:["textarea",!1]},{tokenType:"close",args:["textarea"]},{tokenType:"chars",args:["        "]},{tokenType:"special",args:["else"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["input",!0]},{tokenType:"attrStart",args:["($keyup)"]},{tokenType:"attrValue",args:["beforeSubmit(%element, %event)"]},{tokenType:"attrEnd",args:["($keyup)"]},{tokenType:"special",args:["#if properties.placeholder"]},{tokenType:"attrStart",args:["placeholder"]},{tokenType:"special",args:["properties.placeholder"]},{tokenType:"attrEnd",args:["placeholder"]},{tokenType:"special",args:["/if"]},{tokenType:"attrStart",args:["type"]},{tokenType:"special",args:["#if properties.textType"]},{tokenType:"special",args:["properties.textType"]},{tokenType:"special",args:["else"]},{tokenType:"attrValue",args:["text"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control form-input"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["name"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["name"]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["value"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"end",args:["input",!0]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"start",args:["span",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-input-hint"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!1]},{tokenType:"special",args:[" errors[properties.name]"]},{tokenType:"close",args:["span"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,a,s){var o={module:e};return a instanceof r.Options||(a=new r.Options(a||{})),n(t,a.add(o),s)}}),define("spectre-canjs@0.30.0#form-widget/field-components/text-field/text-field",["exports","can-event","can-component","./text-field.stache!","~/util/field/base/FieldInputMap"],function(e,t,r,n,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var o=s(t),i=s(r),c=s(n),l=s(a),p=e.ViewModel=l.default.extend("TextField",{beforeSubmit:function(e,t){return 13===t.keyCode&&o.default.trigger(e,"change"),!0}});e.default=i.default.extend({tag:"text-field",view:c.default,ViewModel:p})}),define("spectre-canjs@0.30.0#form-widget/field-components/select-field/select-field.stache!steal-stache@3.1.0#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.1.0#can-view-import","can-stache-bindings@3.4.0#can-stache-bindings"],function(e,t,r){var n=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"attrValue",args:["has-error"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"special",args:["#if properties.inline"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"special",args:[">selectInput"]},{tokenType:"chars",args:["    "]},{tokenType:"special",args:["else"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["col-4"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-label"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["for"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["col-8"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"special",args:[">selectInput"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"close",args:["div"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"start",args:["span",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-input-hint"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!1]},{tokenType:"special",args:[" errors[properties.name]"]},{tokenType:"close",args:["span"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,a,s){var o={module:e};return a instanceof r.Options||(a=new r.Options(a||{})),n(t,a.add(o),s)}}),define("spectre-canjs@0.30.0#form-widget/field-components/select-field/templates/selectInput.stache!steal-stache@3.1.0#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.1.0#can-view-import","can-stache-bindings@3.4.0#can-stache-bindings"],function(e,t,r){var n=t([{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["value"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-select form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["name"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["name"]},{tokenType:"end",args:["select",!1]},{tokenType:"special",args:["#each properties.options"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["value"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["label"]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,a,s){var o={module:e};return a instanceof r.Options||(a=new r.Options(a||{})),n(t,a.add(o),s)}}),define("spectre-canjs@0.30.0#form-widget/field-components/select-field/ViewModel",["exports","~/util/field/base/FieldInputMap","./templates/selectInput.stache","can-define/map/map"],function(e,t,r,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(t),o=a(r),i=a(n);e.default=s.default.extend("SelectField",{properties:{Value:i.default,set:function(e){return e.optionsPromise&&e.optionsPromise.then(function(t){e.set("options",t)}),e}},selectInput:{value:function(){return o.default}},isSelected:function(e){return e==this.value}})}),define("spectre-canjs@0.30.0#form-widget/field-components/select-field/select-field",["exports","can-component","./select-field.stache","./ViewModel"],function(e,t,r,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(t),o=a(r),i=a(n);e.default=s.default.extend({tag:"select-field",view:o.default,ViewModel:i.default})}),define("spectre-canjs@0.30.0#form-widget/field-components/file-field/file-field.stache!steal-stache@3.1.0#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.1.0#can-view-import","can-stache-bindings@3.4.0#can-stache-bindings"],function(e,t,r){var n=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"attrValue",args:["has-error"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n\r\n\r\n    "]},{tokenType:"start",args:["ul",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["ul",!1]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["li",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-item"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["li",!1]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["input-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"start",args:["label",!1]},{tokenType:"special",args:["#if properties.inline"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["hide"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"special",args:["/if"]},{tokenType:"attrStart",args:["for"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"start",args:["input",!0]},{tokenType:"attrStart",args:["($change)"]},{tokenType:"attrValue",args:["onChange(%element)"]},{tokenType:"attrEnd",args:["($change)"]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["file"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control form-input"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["name"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["name"]},{tokenType:"special",args:["#if properties.multiple"]},{tokenType:"attrStart",args:["multiple"]},{tokenType:"attrEnd",args:["multiple"]},{tokenType:"special",args:["/if"]},{tokenType:"end",args:["input",!0]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n\r\n            "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"start",args:["span",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-input-hint"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!1]},{tokenType:"special",args:[" errors[properties.name]"]},{tokenType:"close",args:["span"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"close",args:["li"]},{tokenType:"special",args:["#if state.isPending"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["li",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-item loading"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["li",!1]},{tokenType:"close",args:["li"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"special",args:["#if currentFiles.length"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"comment",args:[" menu header "]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"start",args:["li",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-header"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["li",!1]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"start",args:["span",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-header-text"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!1]},{tokenType:"chars",args:["\r\n            Current Files\r\n        "]},{tokenType:"close",args:["span"]},{tokenType:"chars",args:["\r\n            "]},{tokenType:"close",args:["li"]},{tokenType:"special",args:["#each currentFiles"]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"comment",args:[" menu item "]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"start",args:["li",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["menu-item clear"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["li",!1]},{tokenType:"chars",args:["\r\n                    "]},{tokenType:"start",args:["a",!1]},{tokenType:"attrStart",args:["href"]},{tokenType:"special",args:["path"]},{tokenType:"attrEnd",args:["href"]},{tokenType:"attrStart",args:["target"]},{tokenType:"attrValue",args:["_blank"]},{tokenType:"attrEnd",args:["target"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["float-left"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["a",!1]},{tokenType:"chars",args:["\r\n                        "]},{tokenType:"start",args:["i",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["icon icon-link"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["i",!1]},{tokenType:"close",args:["i"]},{tokenType:"chars",args:[" "]},{tokenType:"special",args:["path"]},{tokenType:"chars",args:["\r\n                    "]},{tokenType:"close",args:["a"]},{tokenType:"chars",args:["\r\n                    "]},{tokenType:"start",args:["button",!1]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["button"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["btn ml-10 "]},{tokenType:"special",args:["#if removing"]},{tokenType:"attrValue",args:["loading"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["($click)"]},{tokenType:"attrValue",args:["removeFile(.)"]},{tokenType:"attrEnd",args:["($click)"]},{tokenType:"end",args:["button",!1]},{tokenType:"start",args:["i",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["fa fa-trash"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["i",!1]},{tokenType:"close",args:["i"]},{tokenType:"close",args:["button"]},{tokenType:"chars",args:["\r\n                "]},{tokenType:"close",args:["li"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"close",args:["ul"]},{tokenType:"chars",args:["\r\n\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,a,s){var o={module:e};return a instanceof r.Options||(a=new r.Options(a||{})),n(t,a.add(o),s)}}),define("spectre-canjs@0.30.0#form-widget/field-components/file-field/file-field",["exports","~/util/field/base/FieldInputMap","can-define/list/list","can-define/map/map","can-component","can-util/js/dev/dev","./file-field.stache!","./file-field.less"],function(e,t,r,n,a,s,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var c=i(t),l=i(r),p=i(n),u=i(a),d=i(s),f=i(o),g=p.default.extend({path:"string",removing:"boolean"}),y=e.ViewModel=c.default.extend("FileField",{currentFiles:{Type:l.default,get:function(e){return e||(e=this.value||"",e=this.currentFiles=new l.default(e.split(",").filter(function(e){return""!==e}).map(function(e){return new g({path:e,removing:!1})})),e.on("add",this.updateValue.bind(this)),e.on("remove",this.updateValue.bind(this))),e}},state:{value:{isResolved:!0}},progress:{type:"number",value:100},onChange:function(e){var t=this;e.files&&(!this.properties.multiple&&this.currentFiles.length?this.removeFile(this.currentFiles[0]).then(function(){t.uploadFiles(e.files)}).catch(function(e){t.uploadError(e)}):this.uploadFiles(e.files))},uploadFiles:function(e){var t=this;this.errors[this.properties.name]=null;for(var r=new FormData,n=0;n<e.length;n++)r.append(n,e.item(n));this.state=new Promise(function(e,n){var a=new XMLHttpRequest;a.open("POST",t.properties.url,!0),a.onload=function(){200===a.status?e(JSON.parse(a.responseText)):n(a)},a.onerror=n,a.send(r)}).then(this.uploadSuccess.bind(this)).catch(this.uploadError.bind(this))},uploadSuccess:function(e){var t=this;void 0===e.error?e.uploads.forEach(function(e){var r=new g({path:e,removing:!1});t.currentFiles.push(r)}):d.default.warn("ERRORS: ",e.error)},updateValue:function(){this.currentFiles.length?this.value=this.currentFiles.map(function(e){return e.path}).join(","):this.value=""},uploadError:function(e,t,r){413===e.status&&(this.errors[this.properties.name]="The uploaded file is too large"),d.default.warn("ERRORS: ",e,t,r)},removeFile:function(e){var t=this;return confirm("The file at "+e.path+" will be removed. Are you sure you want to do this?")?!e.removing&&(e.removing=!0,this.state=new Promise(function(r,n){var a=new XMLHttpRequest;a.open("DELETE",t.properties.url,!0),a.onload=function(){200===a.status?r(JSON.parse(a.responseText)):n(a)},a.onerror=n,a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify({file:e.path}))}).then(this.removeSuccess.bind(this,e)).catch(this.removeError.bind(this,e)),this.state):(this.state=new Promise(function(e,t){t({message:"User canceled out of dialog"})}),this.state)},removeSuccess:function(e){this.currentFiles.splice(this.currentFiles.indexOf(e),1),this.updateValue()},removeError:function(e,t){404===t.status&&this.removeSuccess(e,t),d.default.warn("Error: ",t)}});e.default=u.default.extend({tag:"file-field",view:f.default,ViewModel:y})}),define("spectre-canjs@0.30.0#form-widget/field-components/subform-field/subform-field.stache!steal-stache@3.1.0#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.1.0#can-view-import","can-stache-bindings@3.4.0#can-stache-bindings"],function(e,t,r){var n=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n  "]},{tokenType:"start",args:["fieldset",!1]},{tokenType:"end",args:["fieldset",!1]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["legend",!1]},{tokenType:"end",args:["legend",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["legend"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["form-widget",!0]},{tokenType:"attrStart",args:["inline"]},{tokenType:"special",args:["properties.inline"]},{tokenType:"attrEnd",args:["inline"]},{tokenType:"attrStart",args:["{form-object}"]},{tokenType:"attrValue",args:["subFormObject"]},{tokenType:"attrEnd",args:["{form-object}"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["saveField"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"attrStart",args:["{fields}"]},{tokenType:"attrValue",args:["formFields"]},{tokenType:"attrEnd",args:["{fields}"]},{tokenType:"attrStart",args:["show-buttons"]},{tokenType:"attrValue",args:["false"]},{tokenType:"attrEnd",args:["show-buttons"]},{tokenType:"end",args:["form-widget",!0]},{tokenType:"chars",args:["\r\n  "]},{tokenType:"close",args:["fieldset"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,a,s){var o={module:e};return a instanceof r.Options||(a=new r.Options(a||{})),n(t,a.add(o),s)}}),define("spectre-canjs@0.30.0#util/field/mapToFields/mapToFields",["exports","object-assign","can-util/js/dev/dev","../parseFieldArray/parseFieldArray"],function(e,t,r,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(!e)return i.default.warn("map is undefined, so no fields will be generated"),[];var t=(e._define||e.prototype._define).definitions,r=[];for(var n in t)t[n]&&function(){var e="function"==typeof t[n].type?t[n].type.name:t[n].type,a=(0,o.default)({},t[n]);l.forEach(function(e){delete a[e]}),r.push((0,o.default)({},{name:n,type:"string",fieldType:"text"},a,{type:e}))}();return(0,c.default)(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=a(t),i=a(r),c=a(n),l=["get","set","serialize"]}),define("spectre-canjs@0.30.0#form-widget/field-components/subform-field/subform-field",["exports","can-component","can-define/map/map","./subform-field.stache!","~/util/field/base/FieldInputMap","~/util/field/parseFieldArray/parseFieldArray","~/util/field/mapToFields/mapToFields","can-util/js/dev/dev","./subform-field.less"],function(e,t,r,n,a,s,o,i){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var l=c(t),p=c(r),u=c(n),d=c(a),f=c(s),g=c(o),y=c(i),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=e.ViewModel=d.default.extend("SubformField",{value:{set:function(e){return"object"===(void 0===e?"undefined":h(e))?this.subFormObject.set(e.serialize?e.serialize():e):y.default.warn("typeof subform value needs to be object. Type is "+(void 0===e?"undefined":h(e)),e),e}},subFormObject:{Value:p.default,get:function(){var e=this.properties.ObjectTemplate,t=void 0;return e?t=new e:(y.default.warn("subform-field needs an ObjectTemplate defined in its field properties"),t=new p.default),t}},formFields:{get:function(){return this.properties.fields&&this.properties.fields.length?(0,f.default)(this.properties.fields):(0,g.default)(this.properties.ObjectTemplate)}},saveField:function(e,t,r,n){this.subFormObject.set(n.dirty.serialize()),this.dispatch("fieldchange",[{value:this.subFormObject.serialize(),name:this.properties.name}])}});e.default=l.default.extend({tag:"subform-field",view:u.default,ViewModel:T})}),define("spectre-canjs@0.30.0#form-widget/field-components/date-field/constants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})
;for(var t=(e.MONTH_OPTIONS=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],e.YEAR_OPTIONS=[]),r=(new Date).getFullYear();r>=1900;r--)t.push({label:r,value:r})}),define("spectre-canjs@0.30.0#form-widget/field-components/date-field/date-field.stache!steal-stache@3.1.0#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.1.0#can-view-import","can-stache-bindings@3.4.0#can-stache-bindings"],function(e,t,r){var n=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"attrValue",args:["has-error"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["label",!1]},{tokenType:"special",args:["#if properties.inline"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["hide"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"special",args:["/if"]},{tokenType:"attrStart",args:["for"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"special",args:["properties.alias"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["input-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["select-field",!0]},{tokenType:"attrStart",args:["{(value)}"]},{tokenType:"attrValue",args:["day"]},{tokenType:"attrEnd",args:["{(value)}"]},{tokenType:"attrStart",args:["{properties}"]},{tokenType:"attrValue",args:["dayProperties"]},{tokenType:"attrEnd",args:["{properties}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["float-left"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["onChange"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"end",args:["select-field",!0]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["select-field",!0]},{tokenType:"attrStart",args:["{(value)}"]},{tokenType:"attrValue",args:["month"]},{tokenType:"attrEnd",args:["{(value)}"]},{tokenType:"attrStart",args:["{properties}"]},{tokenType:"attrValue",args:["monthProperties"]},{tokenType:"attrEnd",args:["{properties}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["float-left"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["onChange"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"end",args:["select-field",!0]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["select-field",!0]},{tokenType:"attrStart",args:["{(value)}"]},{tokenType:"attrValue",args:["year"]},{tokenType:"attrEnd",args:["{(value)}"]},{tokenType:"attrStart",args:["{properties}"]},{tokenType:"attrValue",args:["yearProperties"]},{tokenType:"attrEnd",args:["{properties}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["float-left"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["(fieldchange)"]},{tokenType:"attrValue",args:["onChange"]},{tokenType:"attrEnd",args:["(fieldchange)"]},{tokenType:"end",args:["select-field",!0]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["clear"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"special",args:["#if errors[properties.name]"]},{tokenType:"start",args:["span",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-input-hint"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!1]},{tokenType:"special",args:["errors[properties.name]"]},{tokenType:"close",args:["span"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,a,s){var o={module:e};return a instanceof r.Options||(a=new r.Options(a||{})),n(t,a.add(o),s)}}),define("spectre-canjs@0.30.0#form-widget/field-components/date-field/date-field",["exports","~/util/field/base/FieldInputMap","can-component","./constants","./date-field.stache!","../select-field/select-field","./date-field.less!"],function(e,t,r,n,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var o=s(t),i=s(r),c=s(a),l=e.ViewModel=o.default.extend("DateField",{value:{type:"date",set:function(e){return e?(this.isValidDate(e)?this.set({day:e.getUTCDate(),month:e.getUTCMonth(),year:e.getUTCFullYear()}):e=new Date,e):e},get:function(e){if(void 0===this.month||void 0===this.day||!this.year)return e;var t=this.month+1+"/"+this.day+"/"+this.year;return this.isValidDate(t)?new Date(t):new Date}},day:{type:"number"},month:{type:"number"},year:{type:"number"},dayProperties:{get:function(){for(var e=[],t=1;t<=this.getDaysInMonth(this.value);t++)e.push({value:t,label:t});return{inline:!0,options:e,name:"day"}}},monthProperties:{value:{inline:!0,options:n.MONTH_OPTIONS,name:"month"}},yearProperties:{value:{inline:!0,options:n.YEAR_OPTIONS,name:"year"}},getDaysInMonth:function(e){return e||(e=new Date),new Date(e.getYear(),e.getMonth()+1,0).getDate()},onChange:function(){this.dispatch("fieldchange",[{value:this.value,name:this.properties.name}])},isValidDate:function(e){return!!e&&(e=new Date(e),!isNaN(e.getTime()))}});e.default=i.default.extend({tag:"date-field",view:c.default,ViewModel:l})}),define("spectre-canjs@0.30.0#form-widget/field-components/checkbox-field/template.stache!steal-stache@3.1.0#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.1.0#can-view-import","can-stache-bindings@3.4.0#can-stache-bindings"],function(e,t,r){var n=t([{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-"]},{tokenType:"special",args:["#if properties.style"]},{tokenType:"special",args:["properties.style"]},{tokenType:"special",args:["else"]},{tokenType:"attrValue",args:["checkbox"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["input",!0]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["checkbox"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["{($checked)}"]},{tokenType:"attrValue",args:["value"]},{tokenType:"attrEnd",args:["{($checked)}"]},{tokenType:"attrStart",args:["name"]},{tokenType:"special",args:["properties.name"]},{tokenType:"attrEnd",args:["name"]},{tokenType:"end",args:["input",!0]},{tokenType:"chars",args:["\r\n        "]},{tokenType:"start",args:["i",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-icon"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["i",!1]},{tokenType:"close",args:["i"]},{tokenType:"chars",args:[" "]},{tokenType:"special",args:["properties.alias"]},{tokenType:"chars",args:["\r\n    "]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\r\n"]},{tokenType:"done",args:[]}]);return function(t,a,s){var o={module:e};return a instanceof r.Options||(a=new r.Options(a||{})),n(t,a.add(o),s)}}),define("spectre-canjs@0.30.0#form-widget/field-components/checkbox-field/checkbox-field",["exports","can-component","./template.stache","~/util/field/base/FieldInputMap"],function(e,t,r,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;var s=a(t),o=a(r),i=a(n),c=e.ViewModel=i.default.extend("CheckboxField",{value:{type:"boolean",set:function(e){return this.dispatch("fieldchange",[{value:e,name:this.properties.name}]),e}}});e.default=s.default.extend({tag:"checkbox-field",ViewModel:c,view:o.default})}),define("can-set@1.3.0#src/helpers",function(e,t,r){var n,a=e("can-util/js/assign/assign"),s=e("can-util/js/each/each"),o=e("can-util/js/last/last"),i=function(){};r.exports=n={eachInUnique:function(e,t,r,n,s){var o,i=a({},r);for(var c in e){if(void 0!==(o=t(e[c],r[c],e,r,c)))return o;delete i[c]}for(c in i)if(void 0!==(o=n(void 0,r[c],e,r,c)))return o;return s},doubleLoop:function(e,t){"function"==typeof t&&(t={iterate:t});for(var r=0;r<e.length;){t.start&&t.start(e[r]);for(var n=r+1;n<e.length;)!1===t.iterate(e[n],n,e[r],r)?e.splice(n,1):n++;t.end&&t.end(e[r]),r++}},identityMap:function(e){var t={};return s(e,function(e){t[e]=1}),t},arrayUnionIntersectionDifference:function(e,t){var r={},a=[],o=[],i=e.slice(0);return s(e,function(e){r[e]=!0,o.push(e)}),s(t,function(e){if(r[e]){a.push(e);var t=n.indexOf.call(i,e);-1!==t&&i.splice(t,1)}else o.push(e)}),{intersection:a,union:o,difference:i}},arraySame:function(e,t){if(e.length!==t.length)return!1;for(var r=n.identityMap(e),a=0;a<t.length;a++){var s=r[t[a]];if(!s)return!1;if(s>1)return!1;r[t[a]]++}return!0},indexOf:Array.prototype.indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(this[t]===e)return t;return-1},map:Array.prototype.map||function(e){for(var t=[],r=0,n=this.length;r<n;r++)t.push(e(this[r],r,this));return t},filter:Array.prototype.filter||function(e){for(var t=[],r=0,n=this.length;r<n;r++)e(this[r],r,this)&&t.push(this[r]);return t},ignoreType:new i,firstProp:function(e){for(var t in e)return t},index:function(e,t,r){if(t&&t.length){if(-1===e(r,t[0]))return 0;if(1===e(r,o(t)))return t.length;for(var n=0,a=t.length;n<a;){var s=n+a>>>1;-1===e(r,t[s])?a=s:n=s+1}return a}},defaultSort:function(e,t,r){var n,a=e.split(" "),s=a[0],o=t[s],i=r[s],c=a[1]||"";return c="desc"===c.toLowerCase(),c&&(n=o,o=i,i=n),o<i?-1:o>i?1:0}}}),define("can-set@1.3.0#src/clause",function(e,t,r){var n=e("can-util/js/assign/assign"),a=e("can-util/js/each/each"),s={};r.exports=s,s.TYPES=["where","order","paginate","id"],a(s.TYPES,function(e){var t=e.charAt(0).toUpperCase()+e.substr(1);s[t]=function(e){n(this,e)},s[t].type=e})}),define("can-set@1.3.0#src/compare",function(e,t,r){var n,a=e("./helpers"),s=e("can-util/js/assign/assign"),o=e("can-util/js/each/each"),i=e("can-util/js/make-array/make-array"),c=function(e,t,r,n,a,s,o){for(var i=o.checks,c=0;c<i.length;c++){var l=i[c](e,t,r,n,a,s||{},o);if(void 0!==l)return l}return o.default},l=function(e,t,r,n,a,s,o){var i;if(a in r){if(a in n)return!1}else i="subsetB";a in n||(i="subsetA"),o.result[a]="subsetB"===i?t:e},p=function(e,t){return function(t,r,n,a,s,o,i){var c=e.apply(this,arguments);return!0===c?(void 0===s||s in i.result||(i.result[s]=t),!0):c}};r.exports=n={equal:function(e,t,r,a,s,o,i){return i.checks=[n.equalComparesType,n.equalBasicTypes,n.equalArrayLike,n.equalObject],i.default=!1,c(e,t,r,a,s,o,i)},equalComparesType:function(e,t,r,n,a,s,o){if("function"==typeof s){var i=s(e,t,r,n,a,o);if("boolean"==typeof i)return i;if(i&&"object"==typeof i){if("intersection"in i&&!("difference"in i)){var c=s(t,e,n,r,a,o);return"intersection"in c&&!("difference"in c)}return!1}return i}},equalBasicTypes:function(e,t,r,n,a,s,o){return null===e||null===t?e===t:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():-1===o.deep?"object"==typeof e||e===t:typeof e==typeof t&&Array.isArray(e)===Array.isArray(t)&&(e===t||void 0)},equalArrayLike:function(e,t,r,n,a,s,o){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++){var l=void 0===s[i]?s["*"]:s[i];if(!c(e[i],t[i],e,t,i,l,o))return!1}return!0}},equalObject:function(e,t,r,n,a,o,i){var l=typeof e;if("object"===l||"function"===l){var p=s({},t);!1===i.deep&&(i.deep=-1);for(var u in e){var d=void 0===o[u]?o["*"]:o[u];if(!c(e[u],t[u],e,t,u,d,i))return!1;delete p[u]}for(u in p)if(void 0===o[u]||!c(void 0,t[u],e,t,u,o[u],i))return!1;return!0}},subset:function(e,t,r,a,s,o,i){return i.checks=[n.subsetComparesType,n.equalBasicTypes,n.equalArrayLike,n.subsetObject],i.getSubsets=[],i.default=!1,c(e,t,r,a,s,o,i)},subsetObject:function(e,t,r,n,s,o,i){var l=typeof e;if("object"===l||"function"===l)return a.eachInUnique(e,function(e,t,r,n,a){var s=void 0===o[a]?o["*"]:o[a];if(!c(e,t,r,n,a,s,i)&&a in n)return!1},t,function(e,t,r,n,a){var s=void 0===o[a]?o["*"]:o[a];if(!c(e,t,r,n,a,s,i))return!1},!0)},subsetComparesType:function(e,t,r,n,s,o,i){if("function"==typeof o){var c=o(e,t,r,n,s,i);return"boolean"==typeof c?c:c&&"object"==typeof c?(c.getSubset&&-1===a.indexOf.call(i.getSubsets,c.getSubset)&&i.getSubsets.push(c.getSubset),c.intersection===a.ignoreType||c.difference===a.ignoreType||"intersection"in c&&!("difference"in c)&&"intersection"in o(t,e,n,r,s,i)):c}},properSupersetObject:function(e,t,r,n,o,i,l){var p=typeof t,u=!1;if("object"===p||"function"===p){var d=s({},e);!1===l.deep&&(l.deep=-1);for(var f in t){var g=void 0===i[f]?i["*"]:i[f],y=c(e[f],t[f],e,t,f,g,l);if(y===a.ignoreType);else if(f in e&&!l.performedDifference){if(!y)return!1}else u=!0;delete d[f]}for(f in d)if(void 0===i[f]||!c(e[f],void 0,e,t,f,i[f],l))return!1;return u}},properSubsetComparesType:function(e,t,r,n,a,s,o){if("function"==typeof s){var i=s(e,t,r,n,a,o);if("boolean"==typeof i)return i;if(i&&"object"==typeof i){if("intersection"in i&&!("difference"in i)){var c=s(t,e,n,r,a,o);return"intersection"in c&&"difference"in c}return!1}return i}},difference:function(e,t,r,a,s,o,i){i.result={},i.performedDifference=0,i.checks=[n.differenceComparesType,p(n.equalBasicTypes),p(n.equalArrayLike),p(n.properSupersetObject)],i.default=!0;var l=c(e,t,r,a,s,o,i);return!0===l&&i.performedDifference?i.result:l},differenceComparesType:function(e,t,r,s,o,i,c){if("function"==typeof i){var l=i(e,t,r,s,o,c);if("boolean"==typeof l)return!0===l?(c.result[o]=e,!0):l;if(l&&"object"==typeof l){if("difference"in l)return l.difference===a.ignoreType?a.ignoreType:null==l.difference||(c.result[o]=l.difference,c.performedDifference++,!0);if(!n.equalComparesType.apply(this,arguments))return!1;c.performedDifference++,c.result[o]=l.union}}},union:function(e,t,r,a,s,o,i){return i.result={},i.performedUnion=0,i.checks=[n.unionComparesType,p(n.equalBasicTypes),p(n.unionArrayLike),p(n.unionObject)],i.getUnions=[],i.default=!1,!0===c(e,t,r,a,s,o,i)&&i.result},unionComparesType:function(e,t,r,n,s,o,i){if("function"==typeof o){var c=o(e,t,r,n,s,i);if("boolean"==typeof c)return!0===c?(i.result[s]=e,!0):c;if(c&&"object"==typeof c&&(c.getUnion&&-1===a.indexOf.call(i.getUnions,c.getUnion)&&i.getUnions.push(c.getUnion),"union"in c))return c.union===a.ignoreType?c.union:(void 0!==c.union&&(i.result[s]=c.union),i.performedUnion++,!0)}},unionObject:function(e,t,r,n,s,o,i){var l=function(e,t,r,n,a){var s=void 0===o[a]?o["*"]:o[a];if(!c(e,t,r,n,a,s,i)){var l;return a in r||(l="subsetB"),a in n||(l="subsetA"),!!l&&(i.subset||(i.subset=l),i.subset===l&&void 0)}},p=typeof e;if("object"===p||"function"===p)return a.eachInUnique(e,l,t,l,!0)},unionArrayLike:function(e,t,r,s,o,c,l){if(Array.isArray(e)&&Array.isArray(t)){var p=i(e).concat(i(t));return a.doubleLoop(p,function(e,t,a,o){return!n.equal(a,e,r,s,void 0,c["*"],{default:!1})}),l.result[o]=p,!0}},count:function(e,t,r,a,s,o,i){return i.checks=[n.countComparesType,n.equalBasicTypes,n.equalArrayLike,n.loopObject],i.default=!1,c(e,t,r,a,s,o,i),"number"==typeof i.count?i.count:1/0},countComparesType:function(e,t,r,n,a,s,o){if("function"==typeof s){var i=s(e,t,r,n,a,o);if("boolean"==typeof i)return!0;if(i&&"object"==typeof i)return"number"==typeof i.count&&("count"in o&&i.count!==o.count?o.count=1/0:o.count=i.count),!0}},loopObject:function(e,t,r,n,a,s,i){var l=typeof e;if("object"===l||"function"===l)return o(e,function(r,n){var a=void 0===s[n]?s["*"]:s[n];c(r,t[n],e,t,n,a,i)}),!0},intersection:function(e,t,r,a,s,o,i){return i.result={},i.performedIntersection=0,i.checks=[n.intersectionComparesType,p(n.equalBasicTypes),p(n.intersectionArrayLike),n.intersectionObject],i.default=!1,!0===c(e,t,r,a,s,o,i)&&i.result},intersectionComparesType:function(e,t,r,n,a,s,o){if("function"==typeof s){var i=s(e,t,r,n,a,o);if("boolean"==typeof i)return!0===i?(o.result[a]=e,!0):i;if(i&&"object"==typeof i&&"intersection"in i)return void 0!==i.intersection&&(o.result[a]=i.intersection),o.performedIntersection++,!0}},intersectionObject:function(e,t,r,n,s,o,i){var p=function(e,t,r,n,a){var s=void 0===o[a]?o["*"]:o[a];if(!c(e,t,r,n,a,s,i))return l(e,t,r,n,a,0,i)},u=typeof e;if("object"===u||"function"===u)return a.eachInUnique(e,p,t,p,!0)},intersectionArrayLike:function(e,t,r,a,s,c,l){if(Array.isArray(e)&&Array.isArray(t)){var p=[];return o(i(e),function(e){for(var s=0;s<t.length;s++)if(n.equal(e,t[s],r,a,void 0,c["*"],{default:!1})){p.push(e);break}}),l.result[s]=p,!0}}}}),define("can-set@1.3.0#src/get",function(e,t,r){var n=e("./compare"),a=e("./helpers"),s=e("can-util/js/each/each"),o=function(e,t,r){return a.filter.call(e,function(e){return n.subset(e,t,void 0,void 0,void 0,r,{})})};r.exports={subsetData:function(e,t,r,i){var c=i.getClauseProperties(e),l=i.getClauseProperties(t),p={},u=o(r,c.where,i.clauses.where);if(u.length&&(c.enabled.order||l.enabled.order)){p={};var d=a.firstProp(c.order),f=i.clauses.order[d];u=u.sort(function(t,r){return f(e[d],t,r)})}return u.length&&(c.enabled.paginate||l.enabled.paginate)&&(p={},n.subset(c.paginate,l.paginate,void 0,void 0,void 0,i.clauses.paginate,p),s(p.getSubsets,function(r){u=r(e,t,u,i,p)})),u}}}),define("can-set@1.3.0#src/set-core",function(e,t,r){function n(e,t){if("string"==typeof t){var r=t;t={fromSet:function(e,t){return e[r]||{}},toSet:function(e,t){return e[r]=t,e}}}this.clause=e,c(this,t)}var a=e("./helpers"),s=e("./clause"),o=e("./compare"),i=e("./get"),c=e("can-util/js/assign/assign"),l=e("can-util/js/each/each"),p=e("can-util/js/make-array/make-array"),u=e("can-util/js/is-empty-object/is-empty-object"),d=function(){var e=this.clauses={where:{},order:{},paginate:{},id:{}};this.translators={where:new n("where",{fromSet:function(e,t){return t},toSet:function(e,t){return c(e,t)}})};var t=this;l(arguments,function(r){r&&(r instanceof n?t.translators[r.clause]=r:c(e[r.constructor.type||"where"],r))})};d.make=function(e,t){return e instanceof d?e:new d(e,t)},c(d.prototype,{getClauseProperties:function(e,t){t=t||{};var r=c({},e),n=this.clauses,s=["order","paginate","id"],o={enabled:{where:!0,order:!1,paginate:!1,id:!1}};return t.omitClauses&&(s=a.arrayUnionIntersectionDifference(s,t.omitClauses).difference),l(s,function(e){var t,a={};for(t in n[e])t in r&&(a[t]=r[t],delete r[t]);o[e]=a,o.enabled[e]=!u(a)}),o.where=t.isProperties?r:this.translators.where.fromSet(e,r),o},getDifferentClauseTypes:function(e,t){var r=this,n=[];return l(s.TYPES,function(a){r.evaluateOperator(o.equal,e[a],t[a],{isProperties:!0},{isProperties:!0})||n.push(a)}),n},updateSet:function(e,t,r,n){return r&&"object"==typeof r&&!1!==n?(e=this.translators[t]?this.translators.where.toSet(e,r):c(e,r),!0):!!r&&void 0===n&&void 0},evaluateOperator:function(e,t,r,n,a,s){n=n||{},a=a||{},s=c({evaluateWhere:e,evaluatePaginate:e,evaluateOrder:e,shouldEvaluatePaginate:function(e,t){return e.enabled.paginate||t.enabled.paginate},shouldEvaluateOrder:function(e,t){return e.enabled.order&&o.equal(e.order,t.order,void 0,void 0,void 0,{},{})}},s||{});var i,l=this.getClauseProperties(t,n),p=this.getClauseProperties(r,a),u={},d=s.evaluateWhere(l.where,p.where,void 0,void 0,void 0,this.clauses.where,{});return i=this.updateSet(u,"where",d,i),d&&s.shouldEvaluatePaginate(l,p)?(s.shouldEvaluateOrder(l,p)&&(d=s.evaluateOrder(l.order,p.order,void 0,void 0,void 0,{},{}),i=this.updateSet(u,"order",d,i)),d&&(d=s.evaluatePaginate(l.paginate,p.paginate,void 0,void 0,void 0,this.clauses.paginate,{}),i=this.updateSet(u,"paginate",d,i))):d&&s.shouldEvaluateOrder(l,p)&&(d=e(l.order,p.order,void 0,void 0,void 0,{},{}),i=this.updateSet(u,"order",d,i)),d&&i?u:d},equal:function(e,t){return this.evaluateOperator(o.equal,e,t)},subset:function(e,t){var r=this.getClauseProperties(e),n=this.getClauseProperties(t),a=!0;return n.enabled.paginate&&(r.enabled.order||n.enabled.order)&&(a=o.equal(r.order,n.order,void 0,void 0,void 0,{},{})),!!a&&this.evaluateOperator(o.subset,e,t)},properSubset:function(e,t){return this.subset(e,t)&&!this.equal(e,t)},difference:function(e,t){var r,n=this.getClauseProperties(e),a=this.getClauseProperties(t),s=this.getDifferentClauseTypes(n,a);switch(s.length){case 0:r=!1;break;case 1:var i=s[0];r=o.difference(n[i],a[i],void 0,void 0,void 0,this.clauses[i],{}),this.translators[i]&&"object"==typeof r&&(r=this.translators[i].toSet({},r))}return r},union:function(e,t){return this.evaluateOperator(o.union,e,t)},intersection:function(e,t){return this.evaluateOperator(o.intersection,e,t)},count:function(e){return this.evaluateOperator(o.count,e,{})},has:function(e,t){var r=this.getClauseProperties(e),n=this.getClauseProperties(t,{isProperties:!0}),a=!0;return(n.enabled.paginate||r.enabled.paginate)&&(n.enabled.order||r.enabled.order)&&(a=o.equal(n.order,r.order,void 0,void 0,void 0,{},{})),!!a&&this.evaluateOperator(o.subset,t,e,{isProperties:!0},void 0)},index:function(e,t,r){var n,s,o=this.getClauseProperties(e),i=a.firstProp(o.order);return i?(n=this.clauses.order[i],s=e[i],a.index(function(e,t){return n(s,e,t)},t,r)):(i=a.firstProp(this.clauses.id),i?(n=a.defaultSort,s=i,a.index(function(e,t){return n(s,e,t)},t,r)):void 0)},getSubset:function(e,t,r){var n=this.getClauseProperties(e),a=this.getClauseProperties(t);if(this.subset(c({},n.where,n.paginate),c({},a.where,a.paginate)))return i.subsetData(e,t,r,this)},getUnion:function(e,t,r,n){var s,i=this.getClauseProperties(e),c=this.getClauseProperties(t),p=this;if(this.subset(e,t))return n;if(this.subset(t,e))return r;var u;if(i.enabled.paginate||c.enabled.paginate){if(s={},!o.union(i.paginate,c.paginate,void 0,void 0,void 0,this.clauses.paginate,s))return;l(s.getUnions,function(a){var o=a(e,t,r,n,p,s);r=o[0],n=o[1]}),u=r.concat(n)}else u=r.concat(n);if(u.length&&i.enabled.order&&o.equal(i.order,c.order,void 0,void 0,void 0,{},{})){s={};var d=a.firstProp(i.order),f=p.clauses.order[d];u=u.sort(function(t,r){return f(e[d],t,r)})}return u},id:function(e){var t=Object.keys(this.clauses.id);if(1===t.length)return e[t[0]];var r={};return t.forEach(function(t){r[t]=e[t]}),JSON.stringify(r)}});var f=function(e,t){return function(){var r=p(arguments).slice(0,t),n=d.make(arguments[t]);return n[e].apply(n,r)}};r.exports={Algebra:d,Translate:n,difference:f("difference",2),equal:f("equal",2),subset:f("subset",2),properSubset:f("properSubset",2),union:f("union",2),intersection:f("intersection",2),count:f("count",1),has:f("has",2),index:f("index",3),getSubset:f("getSubset",3),getUnion:f("getUnion",4)}}),define("can-set@1.3.0#src/props",function(e,t,r){var n=e("./helpers"),a=e("./clause"),s=e("can-util/js/each/each"),o=function(e,t){return e>=t[0]&&e<=t[1]},i=function(e,t,r,n){return{sAv1:+e[r],sAv2:+e[n],sBv1:+t[r],sBv2:+t[n]}},c=function(e,t,r,n){var a=i(e,t,r,n),s=a.sAv1,c=a.sAv2,l=a.sBv1,p=a.sBv2,u=c-s+1,d={difference:[p+1,c],intersection:[s,p],union:[l,c],count:u,meta:"after"},f={difference:[s,l-1],intersection:[l,c],union:[s,p],count:u,meta:"before"};return s===l&&c===p?{intersection:[s,c],union:[s,c],count:u,meta:"equal"}:s===l&&p<c?d:c===p&&l>s?f:o(s,[l,p])&&o(c,[l,p])?{intersection:[s,c],union:[l,p],count:u,meta:"subset"}:o(l,[s,c])&&o(p,[s,c])?{intersection:[l,p],difference:[null,null],union:[s,c],count:u,meta:"superset"}:s<l&&o(c,[l,p])?f:l<s&&o(p,[s,c])?d:c===l-1?{difference:[s,c],union:[s,p],count:u,meta:"disjoint-before"}:p===s-1?{difference:[s,c],union:[l,c],count:u,meta:"disjoint-after"}:isNaN(u)?void 0:{count:u,meta:"disjoint"}},l=function(e,t){return e?(Array.isArray(e)||(e=[e]),e.length?e:t):t},p={0:!1,false:!1,null:void 0,undefined:void 0},u=function(e){return"string"==typeof e?!(e.toLowerCase()in p)||p[e.toLowerCase()]:e},d={enum:function(e,t){var r=new a.Where({});return r[e]=function(e,r,a,o){e=l(e,t),r=l(r,t);var i=n.arrayUnionIntersectionDifference(e,r);return i.difference.length||delete i.difference,s(i,function(e,r){Array.isArray(e)&&(n.arraySame(t,e)?i[r]=void 0:1===e.length&&(i[r]=e[0]))}),i},r},paginate:function(e,t,r,n){var o={},l=function(r,a){var o={};return s(["intersection","difference","union"],function(s){if(r[s]){var i={start:r[s][0],end:r[s][1]};o[s]=n(i)[0===a?e:t]}}),r.count&&(o.count=r.count),o};return o[e]=function(e,t,n,a){if(void 0!==e){var s=c(r(n),r(a),"start","end"),o=l(s,0);return o.getSubset=function(e,t,r,n,a){return r},o.getUnion=function(e,t,r,n,a,s){return[r,n]},o}},o[t]=function(e,t,n,a){if(void 0!==e){var s=c(r(n),r(a),"start","end"),o=l(s,1);return o.getSubset=function(e,t,n,a,s){var o=r(e),c=r(t),l=i(o,c,"start","end"),p=l.sAv1,u=l.sAv2,d=l.sBv1;return"end"in c&&"end"in o?n.slice(p-d,u-d+1):n.slice(p,u+1)},o.getUnion=function(e,t,n,a,o,i){var c=r(e),l=r(t);return s.meta.indexOf("after")>=0?(s.intersection&&(a=a.slice(0,s.intersection[0]-+l.start)),[a,n]):(s.intersection&&(n=n.slice(0,s.intersection[0]-+c.start)),[n,a])},o}},new a.Paginate(o)},boolean:function(e){var t=new a.Where({});return t[e]=function(e,t){e=u(e),t=u(t);var r=!e;return e===!t&&t===r?{difference:!t,union:void 0}:void 0===e?{difference:!t,intersection:t,union:void 0}:e===t||void 0},t},sort:function(e,t){t||(t=n.defaultSort);var r={};return r[e]=t,new a.Order(r)},id:function(e){var t={};return t[e]=e,new a.Id(t)}},f=function(e,t,r){for(var n in t)r[n]||(e[n]=t[n]);return e},g=function(e,t,r){var n=f({},e,{start:1,end:1});return"start"in e&&(n[t]=e.start),"end"in e&&(n[r]=e.end-e.start+1),n},y=function(e,t,r){var n={};n[t]=n[r]=1;var a=f({},e,n);return t in e&&(a.start=parseInt(e[t],10)),r in e&&(a.end=a.start+parseInt(e[r])-1),a};d.offsetLimit=function(e,t){return e=e||"offset",t=t||"limit",d.paginate(e,t,function(r){return y(r,e,t)},function(r){return g(r,e,t)})},d.rangeInclusive=function(e,t){return e=e||"start",t=t||"end",d.paginate(e,t,function(r){var n={};n[e]=n[t]=1;var a=f({},r,n);return e in r&&(a.start=r[e]),t in r&&(a.end=r[t]),a},function(r){var n={start:1,end:1},a=f({},r,n);return a[e]=r.start,a[t]=r.end,a})};var h=function(e,t){if(void 0!==e)return 1===t.length?e[t[0]]:h(e[t[0]],t.slice(1))};d.dotNotation=function(e){var t=new a.Where({});return t[e]=function(e,t,r,n,a){return void 0===e&&(e=h(r,a.split("."))),void 0===t&&(t=h(n,a.split("."))),e===t},t},r.exports=d}),define("can-set@1.3.0#src/set",function(e,t,r){var n=e("./set-core"),a=e("can-namespace"),s=e("./props"),o=e("./clause");n.comparators=s,n.props=s,n.helpers=e("./helpers"),n.clause=o,r.exports=a.set=n}),define("can-connect@1.5.3#connect",function(e,t,r){var n=e("can-util/js/assign/assign"),a=function(e,t){e=e.map(function(e,t){var r=-1;return"string"==typeof e?(r=a.order.indexOf(e),e=s[e]):e.isBehavior?r=a.order.indexOf(e.behaviorName):e=a.behavior(e),{originalIndex:t,sortedIndex:r,behavior:e}}),e.sort(function(e,t){return~e.sortedIndex&&~t.sortedIndex?e.sortedIndex-t.sortedIndex:e.originalIndex-t.originalIndex}),e=e.map(function(e){return e.behavior});var r=a.base(a.behavior("options",function(){return t})());return e.forEach(function(e){r=e(r)}),r.init&&r.init(),r};a.order=["data/localstorage-cache","data/url","data/parse","cache-requests","data/combine-requests","constructor","constructor/store","can/map","can/ref","fall-through-cache","data/worker","real-time","data/callbacks-cache","data/callbacks","constructor/callbacks-once"],a.behavior=function(e,t){"string"!=typeof e&&(t=e,e=void 0);var r=function(r){var a=function(){};a.name=e,a.prototype=r;var s=new a,o="function"==typeof t?t.apply(s,arguments):t;return n(s,o),s.__behaviorName=e,s};return e&&(r.behaviorName=e,s[e]=r),r.isBehavior=!0,r};var s={};r.exports=a}),define("can-connect@1.5.3#base/base",function(e,t,r){var n=e("can-connect/connect");r.exports=n.behavior("base",function(e){return{id:function(e){var t=[],r=this.algebra;if(r&&r.clauses&&r.clauses.id)for(var n in r.clauses.id)t.push(e[n]);return this.idProp&&!t.length&&t.push(e[this.idProp]),t.length||t.push(e.id),t.length>1?t.join("@|@"):t[0]},idProp:e.idProp||"id",listSet:function(e){return e[this.listSetProp]},listSetProp:"__listSet",init:function(){}}})}),define("can-connect@1.5.3#can-connect",function(e,t,r){var n=e("can-connect/connect"),a=e("can-connect/base/base"),s=e("can-namespace");n.base=a,r.exports=s.connect=n}),define("can-fixture@1.1.0#helpers/getid",function(e,t,r){r.exports=function(e,t){var r=e.data.id;return void 0===r&&"number"==typeof e.data&&(r=e.data),void 0===r&&e.url.replace(/\/(\d+)(\/|$|\.)/g,function(e,t){r=t}),void 0===r&&(r=e.url.replace(/\/(\w+)(\/|$|\.)/g,function(e,t){"update"!==t&&(r=t)})),void 0===r&&(r=Math.round(1e3*Math.random())),r}}),define("can-fixture@1.1.0#helpers/legacyStore",function(e,t,r){function n(e){var t=0;return i(e,function(e){"number"==typeof e.id&&(t=Math.max(t,e.id+1))}),t}var a=e("./getid"),s=e("can-set"),o=e("can-util/js/is-array-like/is-array-like"),i=e("can-util/js/each/each"),c=e("can-util/js/assign/assign");r.exports=function(e,t,r){var l,p,u,d=function(){return l++},f=function(e){for(var t=0;t<p.length;t++)if(e==p[t].id)return p[t]},g={};if(o(e)&&"string"==typeof e[0]?(e=t,t=r,r=arguments[3]):"string"==typeof e&&(e=t,t=r,r=arguments[3]),"number"==typeof e)l=0,p=[],u=function(){p=[];for(var r=0;r<e;r++){var n=t(r,p);n.id||(n.id=d()),p.push(n)}};else{r=t;var y=e;l=n(y),u=function(){p=y.slice(0)}}return c(g,{getListData:function(e){e=e||{};var t=p.slice(0);e.data=e.data||{},i((e.data.order||[]).slice(0).reverse(),function(e){var r=e.split(" ");t=t.sort(function(e,t){return"ASC"!==r[1].toUpperCase()?e[r[0]]<t[r[0]]?1:e[r[0]]===t[r[0]]?0:-1:e[r[0]]<t[r[0]]?-1:e[r[0]]===t[r[0]]?0:1})}),i((e.data.group||[]).slice(0).reverse(),function(e){var r=e.split(" ");t=t.sort(function(e,t){return e[r[0]]>t[r[0]]})});var n=parseInt(e.data.offset,10)||0,a=parseInt(e.data.limit,10)||p.length-n,o=0;for(var c in e.data)if(o=0,void 0!==e.data[c]&&(-1!==c.indexOf("Id")||-1!==c.indexOf("_id")))for(;o<t.length;)e.data[c]!=t[o][c]?t.splice(o,1):o++;if("function"==typeof r)for(o=0;o<t.length;)r(t[o],e)?o++:t.splice(o,1);else if("object"==typeof r)for(o=0;o<t.length;){var l=s.subset(t[o],e.data,r);l?o++:t.splice(o,1)}var u={count:t.length,data:t.slice(n,n+a)};return i(["limit","offset"],function(t){t in e.data&&(u[t]=e.data[t])}),u},getData:function(e,t){var r=f(a(e));if(void 0===r)return t(404,"Requested resource not found");t(r)},updateData:function(e,t){var r=a(e),n=f(r);if(void 0===n)return t(404,"Requested resource not found");c(n,e.data),t({id:r},{location:e.url||"/"+a(e)})},destroyData:function(e,t){var r=a(e);if(void 0===f(r))return t(404,"Requested resource not found");for(var n=0;n<p.length;n++)if(p[n].id==r){p.splice(n,1);break}return{}},createData:function(e,r){var n="function"==typeof t?t(p.length,p):{};c(n,e.data),n.id||(n.id=d()),p.push(n),r({id:n.id},{location:e.url+"/"+n.id})}}),u(),c({findAll:g.getListData,findOne:g.getData,create:g.createData,update:g.updateData,destroy:g.destroyData,getId:a,find:function(e){return f(a(e))},reset:u},g)}}),define("can-connect@1.5.3#helpers/get-items",function(e,t,r){
var n=e("can-util/js/is-array/is-array");r.exports=function(e){return n(e)?e:e.data}}),define("can-connect@1.5.3#helpers/sorted-set-json",function(e,t,r){var n=[].forEach,a=Object.keys;r.exports=function(e){if(null==e)return e;var t={};return n.call(a(e).sort(),function(r){t[r]=e[r]}),JSON.stringify(t)}}),define("can-connect@1.5.3#helpers/overwrite",function(e,t,r){r.exports=function(e,t,r){for(var n in e)n===r||n in t||delete e[n];for(n in t)e[n]=t[n];return e}}),define("can-connect@1.5.3#helpers/set-add",function(e,t,r){var n=e("can-set");r.exports=function(e,t,r,a,s){var o=n.index(t,r,a,s);void 0===o&&(o=r.length);var i=r.slice(0);return i.splice(o,0,a),i}}),define("can-connect@1.5.3#helpers/get-index-by-id",function(e,t,r){r.exports=function(e,t,r){for(var n=e.id(t),a=0;a<r.length;a++)if(n==e.id(r[a]))return a;return-1}}),define("can-connect@1.5.3#helpers/clone-data",function(e,t,r){var n=e("can-util/js/is-array/is-array"),a=e("can-util/js/deep-assign/deep-assign");r.exports=function(e){return n(e)?e.slice(0):a({},e)}}),define("can-connect@1.5.3#data/memory-cache/memory-cache",function(e,t,r){var n=e("can-connect/helpers/get-items"),a=e("can-connect"),s=e("can-connect/helpers/sorted-set-json"),o=e("can-set"),i=e("can-connect/helpers/overwrite"),c=e("can-connect/helpers/set-add"),l=e("can-connect/helpers/get-index-by-id"),p=e("can-util/js/assign/assign"),u=e("can-connect/helpers/clone-data");r.exports=a.behavior("data/memory-cache",function(e){return{_sets:{},getSetData:function(){return this._sets},__getListData:function(e){var t=this.getSetData(),r=t[s(e)];if(r)return r.items},_instances:{},getInstance:function(e){return this._instances[e]},removeSet:function(e,t){delete this.getSetData()[e],!0!==t&&this.updateSets()},updateSets:function(){},updateInstance:function(e){var t=this.id(e);return t in this._instances?i(this._instances[t],e,this.idProp):this._instances[t]=e,this._instances[t]},updateSet:function(e,t,r){var n=r?s(r):e.setKey;if(r&&n!==e.setKey){var a=this.getSetData(),o=e.setKey;a[n]=e,e.setKey=n,e.set=p({},r),this.removeSet(o)}e.items=t;var i=this;t.forEach(function(e){i.updateInstance(e)})},addSet:function(e,t){var r=n(t),a=this.getSetData(),o=s(e);a[o]={setKey:o,items:r,set:p({},e)};var i=this;r.forEach(function(e){i.updateInstance(e)}),this.updateSets()},_eachSet:function(e){var t=this.getSetData(),r=this;for(var n in t){var a=t[n],s=function(t,n){return e.call(r,t,n,function(){return t.items})}(a,n);if(void 0!==s)return s}},_getSets:function(){var e=[],t=this.getSetData();for(var r in t)e.push(t[r].set);return e},getSets:function(){return Promise.resolve(this._getSets())},clear:function(){this._instances={},this._sets={}},getListData:function(e){e=e||{};var t=this.getListDataSync(e);return t?Promise.resolve(t):Promise.reject({message:"no data",error:404})},getListDataSync:function(e){for(var t=this._getSets(),r=0;r<t.length;r++){var n=t[r];if(o.subset(e,n,this.algebra)){var a=this.__getListData(n);return{data:o.getSubset(e,n,a,this.algebra),count:a.length}}}},_getListData:function(e){return this.getListDataSync(e)},updateListData:function(e,t){t=t||{};var r=u(e),a=n(r),s=this.getSetData(),i=this;for(var c in s){var l=s[c],d=o.union(l.set,t,this.algebra);if(d){var f=p({},l.set);return this.getListData(f).then(function(e){i.updateSet(l,o.getUnion(f,t,n(e),a,i.algebra),d)})}}return this.addSet(t,r),Promise.resolve()},getData:function(e){var t=this.id(e),r=this.getInstance(t);return r?Promise.resolve(r):Promise.reject({message:"no data",error:404})},createData:function(e){var t=this,r=this.updateInstance(e);return this._eachSet(function(e,n,a){o.has(e.set,r,this.algebra)&&t.updateSet(e,c(t,e.set,a(),r,t.algebra),e.set)}),Promise.resolve(p({},r))},updateData:function(e){var t=this,r=this.updateInstance(e);return this._eachSet(function(e,n,a){var s=a(),i=l(t,r,s);o.subset(r,e.set,this.algebra)?-1===i?t.updateSet(e,c(t,e.set,a(),r,t.algebra)):(s.splice(i,1,r),t.updateSet(e,s)):-1!==i&&(s.splice(i,1),t.updateSet(e,s))}),Promise.resolve(p({},r))},destroyData:function(e){var t=this;this._eachSet(function(r,n,a){var s=a(),o=l(t,e,s);-1!==o&&(s.splice(o,1),t.updateSet(r,s))});var r=this.id(e);return delete this._instances[r],Promise.resolve(p({},e))}}})}),define("can-fixture@1.1.0#store",function(e,t,r){var n=e("can-set"),a=e("can-connect"),s=e("./helpers/legacyStore"),o=e("can-util/js/each/each"),i=e("can-util/js/assign/assign"),c=e("can-util/js/is-array-like/is-array-like"),l=e("can-connect/data/memory-cache/memory-cache"),p=function(e){for(var t in e)return t},u=function(e){return function(t,r){this.connection[e](t.data).then(function(e){r(e)},function(e){r(403,e)})}},d=function(e,t){return function(){var r=[],n=0;return o(e,function(e){r.push(JSON.parse(JSON.stringify(e))),n=Math.max(e[t]+1,n+1)||r.length}),{maxId:n,items:r}}},f=function(e,t,r){this.connection=e,this.makeItems=t,this.idProp=r,this.reset();for(var n in f.prototype)this[n]=this[n].bind(this)};i(f.prototype,{getListData:u("getListData"),getData:u("getData"),createData:function(e,t){var r=this.idProp;e.data[r]=++this.maxId,this.connection.createData(e.data).then(function(n){var a={};a[r]=e.data[r],t(a)},function(e){t(403,e)})},updateData:u("updateData"),destroyData:u("destroyData"),reset:function(e){e&&(this.makeItems=d(e,this.idProp));var t=this.makeItems();this.maxId=t.maxId,this.connection.addSet({},{data:t.items})},get:function(e){var t=this.connection.id(e);return this.connection.getInstance(t)},getList:function(e){return this.connection._getListData(e)}}),o({findAll:"getListData",findOne:"getData",create:"createData",update:"updateData",destroy:"destroyData"},function(e,t){f.prototype[t]=function(){return this[e].apply(this,arguments)}}),f.make=function(e,t,r){var o=!1;if((e instanceof n.Algebra||t instanceof n.Algebra||r instanceof n.Algebra)&&(o=!0),!o)return s.apply(this,arguments);var i,u;"number"==typeof e?(u=p(r.clauses.id||{})||"id",i=function(){for(var r=[],n=0,a=0;a<e;a++){var s=t(a,r);s[u]||(s[u]=a),n=Math.max(s[u]+1,n+1)||r.length,r.push(s)}return{maxId:n,items:r}}):c(e)&&(r=t,u=p(r.clauses.id||{})||"id",i=d(e,u));var g=a([l],{algebra:r,idProp:u});return new f(g,i,u)},r.exports=f}),define("can-fixture@1.1.0#core",function(e,t,r){function n(e){return e&&(e.getData||e.getListData)}function a(e){var t=e.match(/(GET|POST|PUT|DELETE|PATCH) (.+)/i);return t?[t[1],t[2]]:[void 0,e]}function s(e){var t=/\{(.*)\}/,r=e.match(t);if(r&&2===r.length)return r[1]}function o(e,t){if(!(t=t||s(e)))return[void 0,e];var r=new RegExp("\\/\\{"+t+"\\}.*"),n=r.test(e),a=n?e.replace(r,""):e;return[n?e:e.trim()+"/{"+t+"}",a]}function i(e,t){var r={},n=a(e),s=n[0],i=n[1],c=o(i,t.idProp),l=c[0],p=c[1];if(s){var u=['fixture("'+e+'", fixture) must use a store method, not a store directly.'];if(l){var d=k.item[s];if(d){r[s+" "+l]=t[d];var f='Replace with fixture("'+s+" "+l+'", fixture.'+d+") for items.";u.push(f)}}var g=k.list[s];if(g){r[s+" "+p]=t[g];var y='Replace with fixture("'+s+" "+p+'", fixture.'+g+") for lists.";u.push(y)}var T=u.join(" ");h.warn(T)}else{var v=k.item;for(var m in v){var b=v[m];r[m+" "+l]=t[b]}var S=k.list;for(var x in S){var w=S[x];r[x+" "+p]=t[w]}}return r}function c(e){var t=a(e),r=t[0],n=t[1];return r?{type:r,url:n}:{url:n}}function l(e,r,n){var a=t.index(r,!0);if(a>-1&&T.splice(a,1),null!=n){if("object"==typeof n){var s=n;n=function(){return s}}r.fixture=n,T.unshift(r)}}var p=e("can-set"),u=e("can-util/js/string/string").sub,d=e("can-util/js/each/each"),f=e("can-util/js/assign/assign"),g=e("can-util/js/is-empty-object/is-empty-object"),y=e("can-util/js/log/log"),h=e("can-util/js/dev/dev");e("./store");var T=[];t.fixtures=T;var k={item:{GET:"getData",PUT:"updateData",DELETE:"destroyData"},list:{GET:"getListData",POST:"createData"}};t.add=function(e,r){return void 0===r?void d(e,function(e,r){t.add(r,e)}):n(r)?(e=i(e,r),void t.add(e)):("string"==typeof e&&(e=c(e)),void l(T,e,r))};var v=t.add;v.on=!0,v.delay=10,t.callDynamicFixture=function(e,r,n){e.data=r.data;var a=JSON.stringify(e.data);y.log(e.type.toUpperCase()+" "+e.url+" "+a.substr(0,50)+" -> handler(req,res)");var s=function(){var r=t.extractResponse.apply(e,arguments);return n.apply(this,r)},o=function(){var t=r.fixture(e,s,e.headers,r);void 0!==t&&s(200,t)};return e.async?setTimeout(o,v.delay):(o(),null)},t.index=function(e,r){for(var n=0;n<T.length;n++)if(t.matches(e,T[n],r))return n;return-1},t.get=function(e){if(v.on){var r=t.index(e,!0);-1===r&&(r=t.index(e,!1));var n=r>=0?f({},T[r]):void 0;if(n){var a=n.fixture,s=t.dataFromUrl(n.url,e.url);if("string"==typeof n.fixture)s&&(a=u(a,s)),n.url=a,n.data=null,n.type="GET",n.error||(n.error=function(e,t,r){throw"fixtures.js Error "+t+" "+r});else{var o=f({},e.data||{});n.data=f(o,s)}}return n}},t.matches=function(e,r,n){return n?p.equal(e,r,{fixture:function(){return!0}}):p.subset(e,r,t.defaultCompare)};var m=function(e,t){return!(null!=e||!g(t))||!(null!=t||!g(e))||p.equal(e,t)},b=function(e,t){return!(null!=e||!g(t))||!(null!=t||!g(e))||p.subset(e,t)};t.defaultCompare={url:function(e,r){return!!t.dataFromUrl(r,e)},fixture:function(){return!0},xhr:function(){return!0},type:function(e,t){return t&&e?e.toLowerCase()===t.toLowerCase():t===e},method:function(e,t){return t&&e?e.toLowerCase()===t.toLowerCase():t===e},helpers:function(){return!0},headers:m,data:b};var S=/\{([^\}]+)\}/g;t.dataFromUrl=function(e,t){if(!e)return{};var r=[],n=e.replace(".","\\.").replace("?","\\?"),a=new RegExp(n.replace(S,function(e,t){return r.push(t),"([^/]+)"})+"$").exec(t),s={};return a?(a.shift(),d(r,function(e){s[e]=a.shift()}),s):null},t.extractResponse=function(e,t,r,n){return"number"!=typeof e&&(r=t,t=e,e=200),"string"==typeof r&&(n=r,r={}),[e,t,r,n]}}),define("can-deparam@1.0.1#can-deparam",function(e,t,r){var n=e("can-namespace"),a=/^\d+$/,s=/([^\[\]]+)|(\[\])/g,o=/([^?#]*)(#.*)?$/,i=/%([^0-9a-f][0-9a-f]|[0-9a-f][^0-9a-f]|[^0-9a-f][^0-9a-f])/i,c=function(e){e=e.replace(/\+/g," ");try{return decodeURIComponent(e)}catch(t){return decodeURIComponent(e.replace(i,function(e,t){return"%25"+t}))}};r.exports=n.deparam=function(e){var t,r,n={};return e&&o.test(e)&&(t=e.split("&"),t.forEach(function(e){var t=e.split("="),o=c(t.shift()),i=c(t.join("=")),l=n;if(o){t=o.match(s);for(var p=0,u=t.length-1;p<u;p++)l[t[p]]||(l[t[p]]=a.test(t[p+1])||"[]"===t[p+1]?[]:{}),l=l[t[p]];r=t.pop(),"[]"===r?l.push(i):l[r]=i}})),n}}),define("can-fixture@1.1.0#xhr",function(e,t,r){!function(t){function r(e,t){for(var r,n=e.__events[t]||[],a=0,s=n.length;a<s;a++)r=n[a],r.call(e)}var n=e("./core"),a=e("can-deparam"),s=e("can-util/js/assign/assign"),o=e("can-util/js/each/each"),i=e("can-util/js/log/log"),c=XMLHttpRequest,l=void 0!==t?t:window,p=["type","url","async","response","responseText","responseType","responseXML","responseURL","status","statusText","readyState"],u=["abort","error","load","loadend","loadstart","progress","readystatechange"];!function(){var e=new c;for(var t in e)0===t.indexOf("on")?-1===u.indexOf(t.substr(2))&&u.push(t.substr(2)):-1===p.indexOf(t)&&"function"!=typeof e[t]&&p.push(t)}(),l.XMLHttpRequest=function(){var e=this,t=new c;this._xhr=t,this._requestHeaders={},this.__events={},o(u,function(n){t["on"+n]=function(){if(r(e,n),e["on"+n])return e["on"+n].apply(e,arguments)}}),this.onload=null},l.XMLHttpRequest._XHR=c,s(XMLHttpRequest.prototype,{setRequestHeader:function(e,t){this._requestHeaders[e]=t},open:function(e,t,r){this.type=e,this.url=t,this.async=!1!==r},getAllResponseHeaders:function(){return this._xhr.getAllResponseHeaders.apply(this._xhr,arguments)},addEventListener:function(e,t){(this.__events[e]=this.__events[e]||[]).push(t)},removeEventListener:function(e,t){var r=this.__events[e]=this.__events[e]||[],n=r.indexOf(t);n>=0&&r.splice(n,1)},setDisableHeaderCheck:function(e){this._disableHeaderCheck=!!e},getResponseHeader:function(e){return this._xhr.getResponseHeader(e)},abort:function(){var e=this._xhr;return void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),e.open(this.type,this.url,!1!==this.async),e.send()),e.abort()},send:function(e){var t=this.type.toLowerCase()||"get",c={url:this.url,data:e,headers:this._requestHeaders,type:t,method:t,async:this.async,xhr:this};if((!c.data&&"get"===c.type||"delete"===c.type)&&(c.data=a(c.url.split("?")[1]),c.url=c.url.split("?")[0]),"string"==typeof c.data)try{c.data=JSON.parse(c.data)}catch(e){c.data=a(c.data)}var l=n.get(c),p=this;if(l&&"function"==typeof l.fixture)return void(this.timeoutId=n.callDynamicFixture(c,l,function(e,t,n,a){t="string"==typeof t?t:JSON.stringify(t),p._xhr={open:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},s(p,{readyState:4,status:e}),e>=200&&e<300||304===e?s(p,{statusText:a||"OK",responseText:t}):s(p,{statusText:a||"error",responseText:t}),p.getAllResponseHeaders=function(){var e=[];return o(n||{},function(t,r){Array.prototype.push.apply(e,[r,": ",t,"\r\n"])}),e.join("")},p.onreadystatechange&&p.onreadystatechange({target:p}),r(p,"progress"),p.onprogress&&p.onprogress(),r(p,"load"),p.onload&&p.onload(),r(p,"loadend"),p.onloadend&&p.onloadend()}));var u=function(){return p._xhr.open(p._xhr.type,p._xhr.url,p._xhr.async),p._requestHeaders&&Object.keys(p._requestHeaders).forEach(function(e){p._xhr.setRequestHeader(e,p._requestHeaders[e])}),p._xhr.send(e)};return l&&"number"==typeof l.fixture?(i.log(c.url+" -> delay "+l.fixture+"ms"),void(this.timeoutId=setTimeout(u,l.fixture))):(l&&(i.log(c.url+" -> "+l.url),s(p,l)),u())}}),o(p,function(e){Object.defineProperty(XMLHttpRequest.prototype,e,{get:function(){return this._xhr[e]},set:function(t){try{this._xhr[e]=t}catch(e){}}})})}(function(){return this}())}),define("can-fixture@1.1.0#fixture",function(e,t,r){var n=e("./core"),a=n.add,s=e("./store");e("./xhr");var o=e("can-util/js/assign/assign"),i=e("can-namespace"),c=function(){};o(a,{rand:function e(t,r,n){if("number"==typeof t)return"number"==typeof r?t+Math.floor(Math.random()*(r-t+1)):Math.floor(Math.random()*(t+1));var a=t.slice(0);void 0===r?(r=1,n=a.length):void 0===n&&(n=r);for(var s=[],o=r+Math.round(e(n-r)),i=0;i<o;i++){var c=e(a.length-1),l=a.splice(c,1)[0];s.push(l)}return s},xhr:function(e){return o({},{abort:c,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:c,overrideMimeType:c,readyState:4,responseText:"",responseXML:null,send:c,setRequestHeader:c,status:200,statusText:"OK"},e)},store:s.make,fixtures:n.fixtures}),"undefined"!=typeof window&&"function"!=typeof e.resolve&&(window.fixture=a),r.exports=i.fixture=a}),define("spectre-canjs@0.30.0#form-widget/demo/form",["can-fixture","can-stache","can-define/map/map","spectre-canjs/form-widget/form-widget","spectre-canjs/form-widget/field-components/text-field/text-field","spectre-canjs/form-widget/field-components/select-field/select-field","spectre-canjs/form-widget/field-components/file-field/file-field","spectre-canjs/form-widget/field-components/subform-field/subform-field","spectre-canjs/form-widget/field-components/date-field/date-field","spectre-canjs/form-widget/field-components/checkbox-field/checkbox-field"],function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=n(e),s=n(t),o=n(r);a.default.delay=2e3,(0,a.default)({method:"POST",url:"/upload"},function(e,t,r,n){return{uploads:["fake_upload_filename"]}}),(0,a.default)({method:"DELETE",url:"/upload"},function(){return{result:"Success"}});var i=o.default.extend({json_field_1:"string",json_field_2:{validate:function(e){return 2!=e.value?"The value must be 2":void 0},value:2,fieldType:"select",options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},json_field_3:{type:"number",validate:function(e){return e.value<10?"Please enter a value greater than 10":void 0}},json_field_4:{type:"boolean",fieldType:"checkbox",style:"switch"}}),c=o.default.extend({field1:{type:"string",value:"test-value"},field2:"string",field3:"number",field4:"date",field5:"string",field6:i}),l=[{name:"field1",validate:function(e){return e.value.length<50&&"This field must contain at least 50 characters"}},{value:"another value",name:"field2",alias:"A basic textarea field",type:"text",textarea:!0,placeholder:"Enter the text: hello",validate:function(e){return"hello"!==e.value&&'This field must contain the text, "hello"'}},{value:1,name:"field3",alias:"A select dropdown",fieldType:"select",options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},{name:"field4",alias:"A date field",fieldType:"date",value:new Date("2010-10-11")},{name:"field5",alias:"A file field",multiple:!0,fieldType:"file",url:"/upload"},{name:"field6",alias:"A Subform Field",fieldType:"subform",type:"string",value:"",ObjectTemplate:i}],p=s.default.from("demo-html"),u=new o.default({dirtyObject:null,formObject:new c,fields:l,onChange:function(){console.log(arguments)},onSubmit:function(){alert("Form submitted! See the console for details"),console.log("submitted data: ",this.formObject.serialize())},onCancel:function(){console.log("Form canceled!")},stringify:function(e){if(e)return JSON.stringify(e.serialize())}}),d=p(u);document.body.appendChild(d),window.DEMO_SOURCE="\nimport 'spectre-canjs/form-widget/form-widget';\nimport 'spectre-canjs/form-widget/field-components/text-field/text-field';\nimport 'spectre-canjs/form-widget/field-components/select-field/select-field';\nimport 'spectre-canjs/form-widget/field-components/file-field/file-field';\nimport 'spectre-canjs/form-widget/field-components/json-field/json-field';\nimport 'spectre-canjs/form-widget/field-components/subform-field/subform-field';\nimport 'spectre-canjs/form-widget/field-components/date-field/date-field';\nimport fixture from 'can-fixture';\nimport stache from 'can-stache';\nimport DefineMap from 'can-define/map/map';\n\n//this example uses fixtures to catch requests and simulate\n//file upload experience\nfixture.delay = 2000;\nfixture({\n    method: 'POST',\n    url: '/upload'\n}, function(request, response, headers, ajaxSettings) {\n    return {\n        uploads: ['fake_upload_filename']\n    };\n});\n\nfixture({\n    method: 'DELETE',\n    url: '/upload'\n}, function() {\n    return {\n        result: 'Success'\n    };\n});\n\n\nconst ChildObject = DefineMap.extend({\n    json_field_1: 'string',\n    json_field_2: {\n        validate(props){\n          return props.value != 2 ? 'The value must be 2' : undefined;\n        },\n        value: 2,\n        fieldType: 'select',\n        options: [{\n            value: 1,\n            label: 'Option 1'\n        }, {\n            value: 2,\n            label: 'Option 2'\n        }]\n    },\n    json_field_3: {\n        type: 'number',\n        validate(props) {\n            return props.value < 10 ? 'Please enter a value greater than 10' : undefined;\n        }\n    }\n})\n\n\nconst Template = DefineMap.extend({\n    field1: { type: 'string', value: 'test-value' },\n    field2: 'string',\n    field3: 'number',\n    field4: 'date',\n    field5: 'string',\n    field6: ChildObject\n});\n\nconst fields = [{\n        name: 'field1',\n        validate(props) {\n            return props.value.length < 50 ? 'This field must contain at least 50 characters' : false;\n        }\n    },\n    {\n        value: 'another value',\n        name: 'field2',\n        alias: 'A basic textarea field',\n        type: 'text',\n        textarea: true,\n        placeholder: 'Enter the text: \"hello\"',\n        validate(props) {\n            if (props.value !== 'hello') {\n                return 'This field must contain the text, \"hello\"';\n            }\n            return false;\n        }\n    }, {\n        value: 1,\n        name: 'field3',\n        alias: 'A select dropdown',\n        fieldType: 'select',\n        options: [{\n            value: 1,\n            label: 'Option 1'\n        }, {\n            value: 2,\n            label: 'Option 2'\n        }]\n    }, {\n        name: 'field4',\n        alias: 'A date field',\n        fieldType: 'date',\n        value: new Date('2010-10-11')\n    }, {\n        name: 'field5',\n        alias: 'A file field',\n        multiple: true,\n        fieldType: 'file',\n        url: '/upload'\n    }, {\n        name: 'field6',\n        alias: 'A Subform Field',\n        fieldType: 'subform',\n        type: 'string',\n        value: '',\n        ObjectTemplate: ChildObject\n    }\n]\n\nconst render = stache.from('demo-html');\n\nconst vm = new DefineMap({\n    formObject: new Template(),\n    fields: fields,\n    onChange() {\n        console.log(arguments);\n    },\n    onSubmit() {\n        alert('Form submitted! See the console for details');\n        console.log('submitted data: ', this.formObject.serialize())\n    },\n    onCancel() {\n        console.log('Form canceled!');\n    },\n    stringify() {\n        return JSON.stringify(this.formObject.serialize());\n    }\n});\n\nconst frag = render(vm);\n\ndocument.body.appendChild(frag);\n"});
//# sourceMappingURL=../../../../../../form-widget/template.stache
//# sourceMappingURL=form.js.map